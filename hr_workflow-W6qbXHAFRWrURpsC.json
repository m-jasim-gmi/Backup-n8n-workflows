{"updatedAt":"2025-11-07T11:28:46.000Z","createdAt":"2025-11-07T10:29:59.712Z","id":"W6qbXHAFRWrURpsC","name":"HR_workflow","active":false,"isArchived":false,"nodes":[{"parameters":{"sendTo":"={{ $json.fields.Candidate_Email }}","subject":"Do you agree to process ahead","emailType":"text","message":"=Hi,{{ $json.fields.Candidate_Name }}\n\nHere is all your details:\nThanks for applying for the {{ $json.fields.Role_title }} position in our {{ $json.fields.Department }} department.\n\nWe have received your application with the following details:\n- Email: {{ $json.fields.Candidate_Email }}\n- Position: {{ $json.fields.Role_title }}\n- Department: {{ $json.fields.Department }}\n- Work experience: {{ $json.fields['Work Experience'] }}\n- CTC: {{ $json.fields.CTC }}\n- Date of Joining: {{ $json.fields.Date_of_joining }}\n- Resume: {{ $json.fields.upload_resume }}\n\nDo you need to proceed with next steps of joining in our company?\nIf Yes then please reply to this email.\n\nRegards,\nHR Team\n","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[656,3808],"id":"5ceff3f6-57b1-4c27-93ec-cd5463f661d3","name":"confirmation from candidate","webhookId":"eabba1c2-68c6-4ce1-9363-9a13271ba763"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Candidate declined","emailType":"text","message":"=Hi,\n\ncandidate has been rejected the offer please close process for this candidate.\n\nThanks","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1104,4432],"id":"d16c6dbf-e41a-4a13-a1d3-e68d5aa1e6aa","name":"Notify to HR","webhookId":"500f58a6-197d-45b9-8a21-6fcd216e99ba"},{"parameters":{"jsCode":"// Get the full text from Gmail\nconst fullText = $input.item.json.text || '';\n\n// Extract only the latest reply (before the quoted thread)\n// Split by \"\\n\\nOn\" pattern which indicates start of quoted text\nconst cleanReply = fullText.split(/\\n\\nOn .+wrote:/)[0].trim();\n\n// Normalize the reply for easier checking\nconst normalizedReply = cleanReply.toLowerCase().trim();\n\n// Determine if it's a positive or negative response\nlet responseType = 'neutral';\n\n// Positive indicators\nconst positiveKeywords = ['yes', 'sure', 'okay', 'ok', 'sounds good', 'great', \n                         'perfect', 'agreed', 'confirm', 'confirmed', 'accept', \n                         'i agree', \"i'm interested\", 'interested', 'proceed', \n                         'go ahead', 'works for me', 'count me in'];\n\n// Negative indicators\nconst negativeKeywords = ['no', 'not', \"can't\", 'cannot', 'unable', 'unfortunately',\n                         'decline', 'reject', 'sorry', 'apologies', \"won't\",\n                         'will not', 'not interested', 'no thanks', 'pass'];\n\n// Check for positive response\nif (positiveKeywords.some(keyword => normalizedReply.includes(keyword))) {\n  responseType = 'positive';\n}\n\n// Check for negative response\nif (negativeKeywords.some(keyword => normalizedReply.includes(keyword))) {\n  responseType = 'negative';\n}\n\nreturn {\n  json: {\n    ...$input.item.json,\n    \"Email Reply\": cleanReply,\n    \"Email Reply Full\": fullText,\n    \"Response Type\": responseType\n  }\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[432,4288],"id":"416658f7-7469-4945-9849-2a28045074ea","name":"Code in JavaScript"},{"parameters":{"jsCode":"return items.map(item => {\n    const output_text = item.json.output || '';\n\n    // Extract candidate name after 'Dear ' and before ','\n    const name_match = output_text.match(/Dear\\s+(.+?),/i);\n    const candidate_name = name_match ? name_match[1].trim() : 'UnknownCandidate';\n\n    // Encode the text as Base64\n    const text_base64 = Buffer.from(output_text, 'utf-8').toString('base64');\n\n    // Create filename with candidate name\n    const filename = `${candidate_name.replace(/ /g, '_')}_offer_letter.txt`;\n\n    return {\n        json: item.json,\n        binary: {\n            candidate_details: {\n                data: text_base64,\n                mimeType: 'text/plain',\n                fileName: filename,\n                fileExtension: 'txt'\n            }\n        }\n    };\n});\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1680,4144],"id":"4968ba8b-43e2-4e9d-ae2e-46e932155e00","name":"Clean Text"},{"parameters":{"inputDataFieldName":"candidate_details","driveId":{"__rl":true,"value":"My Drive","mode":"list","cachedResultName":"My Drive","cachedResultUrl":"https://drive.google.com/drive/my-drive"},"folderId":{"__rl":true,"value":"1z3jjgIhuTaXulqUfSRwI67cUORfXqlqh","mode":"list","cachedResultName":"candidate_document","cachedResultUrl":"https://drive.google.com/drive/folders/1z3jjgIhuTaXulqUfSRwI67cUORfXqlqh"},"options":{"appPropertiesUi":{"appPropertyValues":[{"key":"Candidate_Email","value":"={{ $('Search records6').item.json.Candidate_Email }}"},{"key":"Candidate_Name","value":"={{ $('Search records6').item.json.Candidate_Name }}"}]}}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1904,4144],"id":"9282848b-7775-43f0-aa97-6e50070479c1","name":"Upload file"},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"options":{"binaryPropertyName":"data","fileName":"={{ $json.name }}"}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2128,4144],"id":"712f0874-ebbf-4195-8d7a-0fc68e6d81f5","name":"Download file"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Manual Review of Offer Letter","emailType":"text","message":"=Hi\n\nPlease verify the below attached offer letter of candidate {{ $('Download file').item.json.appProperties.Candidate_Name }}.\n\nHere is the link attached of offer letter: {{ $json.fields.Offer_letter_link }}\n\nWe kindly request you to coordinate with us to ensure a smooth onboarding process.\nYour Joining date is scheduled on.\n\nIf there is anything need to update reply in this mail.\n\nBest Regards,\nTeam\n","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3024,4144],"id":"c484ed84-31c9-4e27-98fa-4b35b6b48db0","name":"offer_letter_confirmation_with_HR","webhookId":"d879ee2b-b4cc-492c-88ab-cb1a6293c3da"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"e8e1977d-2d1c-49bc-8dad-3beeca097c17","leftValue":"={{ $json.isApproved}}","rightValue":"need to update for joining date","operator":{"type":"boolean","operation":"true","singleValue":true}},{"id":"6d1acb5e-5129-4056-87fe-5764a2474ce2","leftValue":"={{ $json.isApproved === true && !($json.replyText?.toLowerCase().includes('change') || $json.replyText?.toLowerCase().includes('update') || $json.replyText?.toLowerCase().includes('modify') || $json.replyText?.toLowerCase().includes('revise') || $json.replyText?.toLowerCase().includes('correction') || $json.replyText?.toLowerCase().includes('adjust') || $json.replyText?.toLowerCase().includes('different') || $json.replyText?.toLowerCase().includes('wrong') || $json.replyText?.toLowerCase().includes('incorrect')) }}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[656,4800],"id":"d75cb2a7-b440-4aa3-adf7-e8e78503e31e","name":"If"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2352,4144],"id":"1034b8e0-79a6-41fe-999f-f247691bfe18","name":"Share file"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[1392,4432],"id":"65e78d1f-79c9-4d7c-b48d-49b87c908660","name":"No Operation, do nothing"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[1408,4256],"id":"254cda2f-050c-42bf-b9aa-9fd09ae3a451","name":"Google Gemini2"},{"parameters":{"sendTo":"={{ $json.fields.Candidate_Email }}","subject":"=Submission of Required Documents","emailType":"text","message":"=Hi {{ $json.fields.Candidate_Name }},\n\nAs we send the official offer letter for joining our organization. To complete the documentation process, we request you to kindly submit soft copies of the following documents at the earliest.\n\nDocuments Required:\nEducational Documents:\n10th & 12th Mark sheets\n\nGraduation/Post-Graduation Mark sheets and Degree Certificates\nProfessional Credentials:\nSkill Certifications, if any\nCertificates of Extra Activities (awarded by State or Central Government), if any\n\nWork Experience Proof:\nOffer Letters from the last two companies\nSalary Slips for the last three months\nCopy of Resignation Acceptance/Relieving Letter/Service Certificate\n\nFinancial and Identification Proof:\nForm 16 for FY 2023-24\nPAN Card Copy\nAadhaar Card Copy\nPassport Copy\nBank Account Details (First page of Passbook or Cancelled Cheque)\n\nRegards,\nHR Team\n","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[2128,4656],"id":"025b7342-63dc-4439-a68e-02ef1bfc7ff4","name":"Ask_Candidate_Document","webhookId":"b3738cf5-a25b-4e31-8740-87ee88eac353"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[2352,4656],"id":"877f07c5-679d-4c6e-96ae-90334840818b","name":"No Operation, do nothing1"},{"parameters":{"jsCode":"// Get the current item's JSON data\nconst currentData = $input.first().json;\n\n// Get binary data from the Download file node\nconst downloadFileNodeData = $('Download file').first();\n\n// Check if binary data exists\nif (!downloadFileNodeData.binary) {\n  throw new Error('No binary data found in Download file node');\n}\n\n// Get the binary data\nconst binaryData = downloadFileNodeData.binary;\n\n// Get the file ID from Upload file node to create Drive link\nconst uploadFileData = $('Upload file').first().json;\nconst fileId = uploadFileData.id;\n\n// Create Google Drive link\nconst driveViewLink = `https://drive.google.com/file/d/${fileId}/view?usp=sharing`;\nconst driveDownloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;\n\nreturn {\n  json: {\n    ...currentData,\n    drive_link: driveViewLink,\n    drive_download_link: driveDownloadLink,\n    file_id: fileId\n  },\n  binary: binaryData\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2576,4144],"id":"f0faf02f-3138-4bff-bc2c-02a89ae8bf7e","name":"get_drive_url"},{"parameters":{"jsCode":"// Loop over input items and extract reply text and candidate email\nfor (const item of $input.all()) {\n  const html = item.json.html || '';\n  const text = item.json.text || '';\n  \n  let replyText = '';\n  let candidateEmail = '';\n  let candidateName = '';\n  \n  // Extract reply text from HTML - try multiple patterns\n  if (html) {\n    // Pattern 1: Direct div content\n    let match = html.match(/<div dir=\"ltr\">([^<]+)/);\n    if (match && match[1]) {\n      replyText = match[1].trim();\n    }\n    \n    // Pattern 2: First paragraph or div content\n    if (!replyText) {\n      match = html.match(/<(?:p|div)[^>]*>([^<]+)<\\/(?:p|div)>/);\n      if (match && match[1]) {\n        replyText = match[1].trim();\n      }\n    }\n  }\n  \n  // Fallback: Extract reply text from text field (first non-empty, non-quoted line)\n  if (!replyText && text) {\n    const lines = text.split('\\n');\n    for (const line of lines) {\n      const trimmedLine = line.trim();\n      // Skip empty lines, quoted lines, metadata lines, and signature lines\n      if (trimmedLine && \n          !trimmedLine.startsWith('>') && \n          !trimmedLine.startsWith('On ') && \n          !trimmedLine.startsWith('--') &&\n          !trimmedLine.startsWith('[image:') &&\n          !trimmedLine.includes('wrote:') &&\n          trimmedLine.length > 5) { // Ignore very short lines\n        replyText = trimmedLine;\n        break;\n      }\n    }\n  }\n  \n  // Extract candidate name - multiple patterns to handle various formats\n  let nameMatch;\n  \n  // Pattern 1: \"candidate <name>\"\n  nameMatch = text.match(/candidate\\s+([a-zA-Z]+(?:\\s+[a-zA-Z]+)*?)(?:\\s*[,.\\n]|$)/i);\n  if (!nameMatch) {\n    // Pattern 2: \"of candidate <name>\"\n    nameMatch = text.match(/of\\s+candidate\\s+([a-zA-Z]+(?:\\s+[a-zA-Z]+)*?)(?:\\s*[,.\\n]|$)/i);\n  }\n  if (!nameMatch) {\n    // Pattern 3: Look in subject line\n    const subject = item.json.subject || '';\n    nameMatch = subject.match(/(?:for|candidate)\\s+([a-zA-Z]+(?:\\s+[a-zA-Z]+)*?)(?:\\s*[,.\\n-]|$)/i);\n  }\n  \n  if (nameMatch && nameMatch[1]) {\n    candidateName = nameMatch[1].trim();\n    // Clean up common artifacts\n    candidateName = candidateName.replace(/\\s+/g, ' '); // normalize spaces\n  }\n  \n  // Extract candidate email - more robust filtering\n  const emailMatches = text.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/g);\n  \n  if (emailMatches && emailMatches.length > 0) {\n    const senderEmail = item.json.from?.value?.[0]?.address || '';\n    const hrDomains = ['gmi.gj.dev', 'gmindia', 'logoai.com'];\n    \n    // Filter candidate emails (non-HR emails)\n    const candidateEmails = emailMatches.filter(email => {\n      const lowerEmail = email.toLowerCase();\n      // Exclude sender and HR domains\n      if (lowerEmail === senderEmail.toLowerCase()) return false;\n      for (const domain of hrDomains) {\n        if (lowerEmail.includes(domain)) return false;\n      }\n      return true;\n    });\n    \n    // Take the first candidate email found\n    if (candidateEmails.length > 0) {\n      candidateEmail = candidateEmails[0];\n    }\n  }\n  \n  // Define approval keywords\n  const approvalKeywords = [\n    'approved', 'approve', 'ok', 'okay', 'yes', 'confirmed', 'confirm',\n    'looks good', 'lgtm', 'accepted', 'accept', 'good to go', 'fine',\n    'agreed', 'correct', 'proceed', 'go ahead', 'proceed ahead'\n  ];\n  \n  // Define rejection keywords\n  const rejectionKeywords = [\n    'rejected', 'reject', 'no', 'not approved', 'denied', 'deny',\n    'not accepted', 'cannot proceed', 'hold', 'on hold', 'wait',\n    'need changes', 'needs revision', 'incorrect', 'changes required'\n  ];\n  \n  // Check status based on reply text\n  const lowerReply = replyText.toLowerCase();\n  const isApproved = approvalKeywords.some(keyword => lowerReply.includes(keyword));\n  const isRejected = rejectionKeywords.some(keyword => lowerReply.includes(keyword));\n  \n  // Determine final status\n  let status = 'pending';\n  let matchedKeyword = 'none';\n  \n  if (isApproved && !isRejected) {\n    status = 'approved';\n    matchedKeyword = approvalKeywords.find(keyword => lowerReply.includes(keyword)) || 'approved';\n  } else if (isRejected) {\n    status = 'rejected';\n    matchedKeyword = rejectionKeywords.find(keyword => lowerReply.includes(keyword)) || 'rejected';\n  }\n  \n  // Add all extracted data to output\n  item.json.replyText = replyText || 'NO_REPLY_TEXT_FOUND';\n  item.json.isApproved = isApproved && !isRejected;\n  item.json.isRejected = isRejected;\n  item.json.status = status;\n  item.json.candidateName = candidateName || 'NAME_NOT_FOUND';\n  item.json.candidateEmail = candidateEmail || 'EMAIL_NOT_IN_MESSAGE';\n  item.json.matchedKeyword = matchedKeyword;\n  item.json.hrEmail = item.json.from?.value?.[0]?.address || '';\n  item.json.hrName = item.json.from?.value?.[0]?.name || '';\n  item.json.threadId = item.json.threadId || '';\n  item.json.messageId = item.json.messageId || '';\n  item.json.subject = item.json.subject || '';\n  item.json.processedDate = new Date().toISOString();\n  \n  // Debug info - remove after testing\n  item.json._debug = {\n    textLength: text.length,\n    htmlLength: html.length,\n    emailMatchesFound: emailMatches ? emailMatches.length : 0,\n    allEmailsFound: emailMatches || []\n  };\n}\n\nreturn $input.all();"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[432,4800],"id":"47b21299-7506-426e-9944-aa45f286dc2d","name":"Extracting_mail_reply"},{"parameters":{"jsCode":"// Loop over input items and add a new field called 'myNewField' to the JSON of each one\nfor (const item of $input.all()) {\n  item.json.myNewField = 1;\n}\n\nreturn $input.all();"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1392,4656],"id":"8c932c1c-b39f-4f53-9ed6-858707baa257","name":"Extract_data"},{"parameters":{"operation":"get","messageId":"={{ $json.id }}","simple":false,"options":{"downloadAttachments":true}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[432,5536],"id":"bd97ef5c-acd6-4c04-9a03-2a68cc4c7b6d","name":"Get a message","webhookId":"248feca5-e595-4a64-9e6d-28fd1e4481e8"},{"parameters":{"jsCode":"// Access the item\nconst item = $input.item;\n\n// Extract email from the 'from' object structure\nconst fromEmail = item.json.from?.value?.[0]?.address || \"\";\nconst fromName = item.json.from?.value?.[0]?.name || \"\";\n\n// Get attachment (assuming it's in binary data)\nconst attachment = item.binary?.attachment_0;\n\nreturn [{\n    json: {\n        from_email: fromEmail,\n        from_name: fromName,\n        attachment_file_name: attachment?.fileName || \"\",\n        attachment_mime_type: attachment?.mimeType || \"\",\n        attachment_file_extension: attachment?.fileExtension || \"\"\n    },\n    binary: {\n        attachment: attachment || {}\n    }\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[656,5536],"id":"6bf044e8-b738-441a-83a1-adbcbcdb176d","name":"get_email"},{"parameters":{"inputDataFieldName":"attachment","driveId":{"__rl":true,"value":"My Drive","mode":"list","cachedResultName":"My Drive","cachedResultUrl":"https://drive.google.com/drive/my-drive"},"folderId":{"__rl":true,"value":"1z3jjgIhuTaXulqUfSRwI67cUORfXqlqh","mode":"list","cachedResultName":"candidate_document","cachedResultUrl":"https://drive.google.com/drive/folders/1z3jjgIhuTaXulqUfSRwI67cUORfXqlqh"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[880,5536],"id":"680ecebf-4b90-4ed3-af04-62412c42d10a","name":"Upload file1"},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1104,5536],"id":"abf86e28-16bd-46df-956d-929931147cc3","name":"Download file1"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1328,5600],"id":"76e3c96e-4c15-4e81-be18-2e5f98c03510","name":"Share_candidate_document"},{"parameters":{"jsCode":"// Get the current item's JSON data\nconst currentData = $input.first().json;\n\n// Get binary data from the Download file1 node\nconst downloadFileNodeData = $('Download file1').first();\n\n// Check if binary data exists\nif (!downloadFileNodeData || !downloadFileNodeData.binary) {\n  throw new Error('No binary data found in Download file1 node');\n}\n\n// Get the binary data\nconst binaryData = downloadFileNodeData.binary;\n\n// IMPORTANT: Get the file ID from Upload file1 node (NOT from Share node)\nconst uploadFileData = $('Upload file1').first().json;\nconst fileId = uploadFileData.id;\n\n// Verify file ID exists\nif (!fileId) {\n  throw new Error('File ID not found in Upload file1 node');\n}\n\n// Create Google Drive links\nconst driveViewLink = `https://drive.google.com/file/d/${fileId}/view?usp=sharing`;\nconst driveDownloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;\n\nreturn [{\n  json: {\n    ...currentData,\n    drive_link: driveViewLink,\n    drive_download_link: driveDownloadLink,\n    file_id: fileId,\n    file_name: uploadFileData.name || \"\"\n  },\n  binary: binaryData\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1552,5600],"id":"9bfa541a-4ef1-45b1-9761-7ce0916f4547","name":"get_document_drive_link"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"CTC":"={{ $json.CTC }}","Candidate_Name":"={{ $json.Candidate_Name }}","Candidate_Email":"={{ $json.Candidate_Email }}","Role_title":"={{ $json.Role_title }}","Department":"={{ $json.Department }}","Work Experience":"={{ $json[\"Work Experience\"] }}","Offer_letter_link":"={{ $json.Offer_letter_link }}","HR_confirmation_for_offer_letter":"={{ $json.HR_confirmation_for_offer_letter }}","offer_send_to_candidate":"={{ $json.offer_send_to_candidate }}","candidate_document":"={{ $json.candidate_document }}","Date_of_joining":"={{ $json.Date_of_joining }}","upload_resume":"={{ $json.upload_resume }}","email_reply":"={{ $json.email_reply }}","candidate_status":"={{ $json.candidate_status }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[2224,5600],"id":"657c0de9-388e-4389-9826-83528d9f428b","name":"Store_candidate_details"},{"parameters":{"method":"POST","url":"=https://candidate-document-ocr-app-latest.onrender.com/extract","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"api_key","value":"AIzaSyAEj6qcXTuFxHsfrgV2q-b5UuwxBAFKXVU"},{"name":"model_name","value":"models/gemini-2.5-flash"},{"name":"output_structure","value":"=json"},{"parameterType":"formBinaryData","name":"pdf_file","inputDataFieldName":"=data"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2672,5536],"id":"9a5cbf62-c55d-4ec2-aea9-3439c5a9c789","name":"OCR Request"},{"parameters":{"mode":"combine","combineBy":"combineByPosition","options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[2448,5536],"id":"bcb9bd3b-6ced-43dd-b856-e0469871d881","name":"Merge"},{"parameters":{"jsCode":"// Get OCR extracted data from previous node\nconst ocrData = $input.first().json.data;\n\n// Initialize validation arrays\nconst errors = [];\nconst warnings = [];\n\n// ====================================================================\n// 1. VALIDATE CANDIDATE NAME (CRITICAL - REQUIRED)\n// ====================================================================\n\nlet hasValidName = false;\n\n// Check both personal_info and personal_information (different OCR formats)\nconst personalData = ocrData.personal_info || ocrData.personal_information;\nconst candidateName = personalData?.name;\n\nif (!candidateName || candidateName.trim() === '') {\n  errors.push('Missing candidate name in document - REQUIRED');\n} else {\n  // Check if name is too short or looks invalid\n  const name = candidateName.trim();\n  if (name.length < 2) {\n    errors.push('Candidate name appears invalid (too short)');\n  } else if (name.toLowerCase() === 'name' || name.toLowerCase() === 'candidate' || name.toLowerCase() === 'your name') {\n    errors.push('Candidate name appears to be placeholder text');\n  } else {\n    hasValidName = true;\n  }\n}\n\n// ====================================================================\n// 2. VALIDATE LEGAL DOCUMENTS (REQUIRED BUT FLEXIBLE)\n// ====================================================================\n\n// Check if document has legal information\nlet hasLegalDocuments = false;\nconst legalFieldsFound = [];\n\n// Check for ID proof fields\nif (ocrData.id_number || ocrData.document_number || ocrData.passport_number || ocrData.license_number) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('ID proof');\n}\n\n// Check for work authorization\nif (ocrData.work_authorization || ocrData.visa_status || ocrData.citizenship) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('work authorization');\n}\n\n// Check for signed documents\nif (ocrData.signature || ocrData.candidate_signature || ocrData.date_signed || ocrData.signature_date) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('signature');\n}\n\n// Check for tax documents\nif (ocrData.tax_id || ocrData.ssn || ocrData.pan_number || ocrData.aadhar_number) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('tax documents');\n}\n\n// Check for address proof (part of legal documentation)\nif (ocrData.address || personalData?.address || ocrData.permanent_address || ocrData.current_address) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('address');\n}\n\n// Check for date of birth (important legal field)\nif (ocrData.date_of_birth || ocrData.birth_date || ocrData.dob || personalData?.dob || personalData?.date_of_birth) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('date of birth');\n}\n\n// Check for employment documents\nif (ocrData.offer_letter || ocrData.employment_contract || ocrData.job_title || ocrData.position) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('employment documents');\n}\n\n// Check for background check consent\nif (ocrData.background_check_consent || ocrData.consent || ocrData.authorization) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('consent forms');\n}\n\n// For resumes/CVs, consider work experience and education as sufficient legal context\nif (ocrData.work_experience && Array.isArray(ocrData.work_experience) && ocrData.work_experience.length > 0) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('work experience');\n}\n\nif (ocrData.education && Array.isArray(ocrData.education) && ocrData.education.length > 0) {\n  hasLegalDocuments = true;\n  legalFieldsFound.push('education');\n}\n\nif (!hasLegalDocuments) {\n  errors.push('No legal documents/information found - REQUIRED (ID proof, signatures, address, DOB, work experience, education, etc.)');\n}\n\n// ====================================================================\n// 3. VALIDATE EMAIL (OPTIONAL - INFO ONLY, NO WARNINGS)\n// ====================================================================\n\nlet emailStatus = 'not_provided';\nif (personalData?.email && personalData.email.trim() !== '') {\n  // Validate email format\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  if (emailRegex.test(personalData.email)) {\n    emailStatus = 'valid';\n  } else {\n    emailStatus = 'invalid_format';\n    warnings.push(`Email provided but format appears invalid: \"${personalData.email}\"`);\n  }\n}\n// Note: No warning added if email is not provided (truly optional)\n\n// ====================================================================\n// 4. VALIDATE PHONE (OPTIONAL - INFO ONLY, NO WARNINGS)\n// ====================================================================\n\nlet phoneStatus = 'not_provided';\nif (personalData?.phone && personalData.phone.trim() !== '') {\n  // Validate phone format\n  const phone = personalData.phone.replace(/[\\s\\-\\(\\)\\+]/g, '');\n  if (phone.length >= 10 && phone.length <= 15 && /^\\d+$/.test(phone)) {\n    phoneStatus = 'valid';\n  } else {\n    phoneStatus = 'invalid_format';\n    warnings.push(`Phone provided but format may be invalid: \"${personalData.phone}\"`);\n  }\n}\n// Note: No warning added if phone is not provided (truly optional)\n\n// ====================================================================\n// 5. VALIDATE WORK EXPERIENCE (OPTIONAL - WARNING ONLY)\n// ====================================================================\n\nif (!ocrData.work_experience || !Array.isArray(ocrData.work_experience) || ocrData.work_experience.length === 0) {\n  warnings.push('No work experience found in document (optional)');\n} else {\n  // Validate each work experience entry\n  let validExperienceCount = 0;\n  ocrData.work_experience.forEach((exp, index) => {\n    if (!exp.company) {\n      warnings.push(`Work experience [${index + 1}]: Missing company name`);\n    }\n    if (!exp.role) {\n      warnings.push(`Work experience [${index + 1}]: Missing job role/title`);\n    }\n    if (!exp.duration && !exp.start_date) {\n      warnings.push(`Work experience [${index + 1}]: Missing duration or dates`);\n    }\n    \n    // Check date logic\n    if (exp.start_date && exp.end_date && exp.end_date !== 'Present' && exp.end_date.toLowerCase() !== 'current') {\n      const startDate = new Date(exp.start_date);\n      const endDate = new Date(exp.end_date);\n      \n      if (!isNaN(startDate.getTime()) && !isNaN(endDate.getTime())) {\n        if (endDate < startDate) {\n          warnings.push(`Work experience [${index + 1}]: End date is before start date`);\n        }\n      }\n    }\n    \n    if (exp.company && exp.role && (exp.duration || exp.start_date)) {\n      validExperienceCount++;\n    }\n  });\n  \n  if (validExperienceCount === 0) {\n    warnings.push('All work experience entries are incomplete');\n  }\n}\n\n// ====================================================================\n// 6. VALIDATE EDUCATION (OPTIONAL - WARNING ONLY)\n// ====================================================================\n\nif (!ocrData.education || !Array.isArray(ocrData.education) || ocrData.education.length === 0) {\n  warnings.push('No education information found in document (optional)');\n} else {\n  // Validate each education entry\n  let validEducationCount = 0;\n  ocrData.education.forEach((edu, index) => {\n    if (!edu.institution) {\n      warnings.push(`Education [${index + 1}]: Missing institution name`);\n    }\n    if (!edu.degree) {\n      warnings.push(`Education [${index + 1}]: Missing degree/qualification`);\n    }\n    \n    if (edu.institution && edu.degree) {\n      validEducationCount++;\n    }\n  });\n  \n  if (validEducationCount === 0) {\n    warnings.push('All education entries are incomplete');\n  }\n}\n\n// ====================================================================\n// 7. VALIDATE SKILLS (OPTIONAL - WARNING ONLY)\n// ====================================================================\n\nif (!ocrData.skills) {\n  warnings.push('Skills section not found (optional)');\n} else {\n  const totalSkills = [\n    ...(ocrData.skills.technical || []),\n    ...(ocrData.skills.soft_skills || []),\n    ...(ocrData.skills.languages || []),\n    ...(ocrData.skills.certifications || [])\n  ].length;\n  \n  if (totalSkills === 0) {\n    warnings.push('No skills listed in document (optional)');\n  } else if (totalSkills < 3) {\n    warnings.push(`Only ${totalSkills} skills found (recommended: at least 5)`);\n  }\n}\n\n// ====================================================================\n// 8. CHECK FOR PLACEHOLDER TEXT (CRITICAL)\n// ====================================================================\n\nconst documentText = JSON.stringify(ocrData).toLowerCase();\n\nif (documentText.includes('lorem ipsum')) {\n  errors.push('Document contains placeholder text (Lorem Ipsum)');\n}\n\nif (documentText.includes('[insert') || documentText.includes('[add') || documentText.includes('[your ')) {\n  errors.push('Document contains placeholder brackets like [Insert Name]');\n}\n\n// Only flag XXX if it appears multiple times (avoid false positives)\nconst xxxMatches = documentText.match(/\\bxxx\\b/gi);\nif (xxxMatches && xxxMatches.length >= 3) {\n  errors.push('Document contains multiple placeholder XXX text');\n}\n\nif (documentText.includes('example@example.com') || documentText.includes('sample@sample.com')) {\n  errors.push('Document contains placeholder email');\n}\n\n// ====================================================================\n// 9. VALIDATE URLs (WARNING ONLY)\n// ====================================================================\n\nfunction isValidURL(url) {\n  if (!url || url.trim() === '') return false;\n  try {\n    new URL(url);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nif (ocrData.personal_info?.linkedin && !isValidURL(ocrData.personal_info.linkedin)) {\n  warnings.push(`Invalid LinkedIn URL: \"${ocrData.personal_info.linkedin}\"`);\n}\nif (personalData?.linkedin && !isValidURL(personalData.linkedin)) {\n  warnings.push(`Invalid LinkedIn URL: \"${personalData.linkedin}\"`);\n}\n\nif (ocrData.personal_info?.github && !isValidURL(ocrData.personal_info.github)) {\n  warnings.push(`Invalid GitHub URL: \"${ocrData.personal_info.github}\"`);\n}\nif (personalData?.github && !isValidURL(personalData.github)) {\n  warnings.push(`Invalid GitHub URL: \"${personalData.github}\"`);\n}\n\nif (ocrData.personal_info?.portfolio && !isValidURL(ocrData.personal_info.portfolio)) {\n  warnings.push(`Invalid Portfolio URL: \"${ocrData.personal_info.portfolio}\"`);\n}\nif (personalData?.portfolio && !isValidURL(personalData.portfolio)) {\n  warnings.push(`Invalid Portfolio URL: \"${personalData.portfolio}\"`);\n}\n\n// ====================================================================\n// 10. CHECK MINIMUM CONTENT LENGTH (WARNING ONLY)\n// ====================================================================\n\nconst contentLength = JSON.stringify(ocrData).length;\nif (contentLength < 300) {\n  warnings.push('Document appears too short/sparse (less than 300 characters extracted)');\n}\n\n// ====================================================================\n// 11. DETERMINE VALIDATION STATUS\n// ====================================================================\n\n// Document is VALID only if:\n// 1. Candidate name is present and valid\n// 2. Legal documents are present (at least one type)\n// 3. No placeholder text\n// 4. No critical errors\n// Note: Email and phone are NOT required for validity\n\nconst isValid = errors.length === 0;\n\n// Calculate score\nlet score = 100;\nscore -= errors.length * 30; // Each error reduces score by 30\nscore -= warnings.length * 3; // Each warning reduces score by 3 (less impact)\nscore = Math.max(0, score); // Minimum score is 0\n\n// ====================================================================\n// 12. RETURN VALIDATION RESULT WITH DEBUG INFO\n// ====================================================================\n\nreturn {\n  // Validation result\n  validation_status: isValid ? 'valid' : 'invalid',\n  score: score,\n  \n  // Critical requirements status\n  has_candidate_name: hasValidName,\n  has_legal_documents: hasLegalDocuments,\n  legal_fields_found: legalFieldsFound,\n  \n  // Optional fields status (for informational purposes)\n  has_email: emailStatus,\n  has_phone: phoneStatus,\n  \n  // Issues found\n  errors: errors,\n  warnings: warnings,\n  error_count: errors.length,\n  warning_count: warnings.length,\n  \n  // Debug information\n  debug_info: {\n    name_value: candidateName || 'NOT FOUND',\n    has_personal_info: !!personalData,\n    has_work_experience: !!(ocrData.work_experience?.length),\n    has_education: !!(ocrData.education?.length),\n    content_length: contentLength\n  },\n  \n  // Extracted data\n  extracted_data: ocrData,\n  \n  // Metadata\n  validated_at: new Date().toISOString()\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2896,5536],"id":"e0e37c6e-34ef-41cd-bca4-1642a70e9104","name":"validate_Document"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"97a85490-f73c-4778-ac92-18553024d257","leftValue":"={{ $json.validation_status }}","rightValue":"","operator":{"type":"string","operation":"contains"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3120,5536],"id":"3cd5a4b1-cfdb-4e9f-95b1-61bc7db0a7be","name":"If1"},{"parameters":{"operation":"upsert","base":{"__rl":true,"mode":"list","value":"appGT9AeqjnBWgAYV"},"table":{"__rl":true,"mode":"list","value":"tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"CTC":"={{ 800000 }}","Candidate_Name":"={{ $('Store_candidate_details').item.json.fields.Candidate_Name }}","Candidate_Email":"={{ $('Store_candidate_details').item.json.fields.Candidate_Email }}","Role_title":"={{ $('Store_candidate_details').item.json.fields.Role_title }}","Department":"={{ $('Store_candidate_details').item.json.fields.Department }}","Date Of Joining":"={{ $('Store_candidate_details').item.json.fields[\"Date Of Joining\"] }}","Work Experience":"={{ $('Store_candidate_details').item.json.fields[\"Work Experience\"] }}","Upload Resume":"={{ $('Store_candidate_details').item.json.fields[\"Upload Resume\"] }}","Email Reply":"={{ $('Store_candidate_details').item.json.fields[\"Email Reply\"] }}","Candidate Status":"={{ $('Store_candidate_details').item.json.fields[\"Candidate Status\"] }}","Offer_letter_link":"={{ $('Store_candidate_details').item.json.fields.Offer_letter_link }}","HR_confirmation_for_offer_letter":"={{ $('Store_candidate_details').item.json.fields.HR_confirmation_for_offer_letter }}","offer_send_to_candidate":"={{ $('Store_candidate_details').item.json.fields.offer_send_to_candidate }}","candidate_document":"={{ $('Store_candidate_details').item.json.fields.candidate_document }}","document_verification_status":"={{ $json.validation_status }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Date Of Joining","displayName":"Date Of Joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Upload Resume","displayName":"Upload Resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Email Reply","displayName":"Email Reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate Status","displayName":"Candidate Status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[3344,5392],"id":"090f0614-e2df-41e1-91a1-5766e88f52e8","name":"Update document verification"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"CTC":0},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Date Of Joining","displayName":"Date Of Joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Upload Resume","displayName":"Upload Resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Email Reply","displayName":"Email Reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate Status","displayName":"Candidate Status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[3344,5680],"id":"f79361a5-9a3f-46cc-8b5c-c7acba0667df","name":"Create or update a record"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Document Verification Failed","emailType":"text","message":"=","options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3568,5680],"id":"a9373789-c004-4c86-82d8-a7295a1a13e5","name":"Verification_failed_mail_to_hr","webhookId":"1a1125c0-d162-4509-98a8-9f0d72bcb5b6"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[3856,5680],"id":"ca1f1863-9c79-4ab1-8812-5b3ab197ff9e","name":"No Operation, do nothing3"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"It setup for new candidate","emailType":"text","message":"=Dear {{ $('Airtable Trigger').item.json.fields.Candidate_Name }},\n\nWelcome to GMIndia!\n\nWe are excited to have you join our team and look forward to working with you.\n\nConnect to our IT Team For setting up laptop allocation, all configuration and jira access (software access).\n\nHere is the Email for our IT Team Lead:- gmi.gj.dev.gajjardmk@gmail.com\n\nBest Regards,\nHR Team\n","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[880,5904],"id":"c1b9162b-6c4a-40b1-9da0-034c2e02e40a","name":"it_dept","webhookId":"2e0f5da6-8918-4118-be2c-c03f1a05a354"},{"parameters":{"sendTo":"={{ $json.fields.Candidate_Email }}","subject":"Document Verified","emailType":"text","message":"=Dear, {{ $json.fields.Candidate_Name }}\n\nWe are pleased to inform you that your submitted documents have been successfully verified and validated.\n\nValidation Status:{{ $('OCR Request').item.json.success }}\n\nThank you for your submission. We look forward to proceeding with your application.\n\nBest Regards,\nHR Team\n","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3568,5392],"id":"bcb9508b-b8a2-4527-bfc4-a2b1df94bdf9","name":"Document_verified","webhookId":"4de8469b-6b67-4813-964a-2a177f60addf"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[1408,5184],"id":"2441227d-b121-4cd6-aeb9-e3b088db4ce6","name":"Google Gemini Chat Model"},{"parameters":{"jsCode":"return items.map(item => {\n    const output_text = item.json.output || '';\n\n    // Extract candidate name after 'Dear ' and before ','\n    const name_match = output_text.match(/Dear\\s+(.+?),/i);\n    const candidate_name = name_match ? name_match[1].trim() : 'UnknownCandidate';\n\n    // Encode the text as Base64\n    const text_base64 = Buffer.from(output_text, 'utf-8').toString('base64');\n\n    // Create filename with candidate name\n    const filename = `${candidate_name.replace(/ /g, '_')}_offer_letter.txt`;\n\n    return {\n        json: item.json,\n        binary: {\n            candidate_details: {\n                data: text_base64,\n                mimeType: 'text/plain',\n                fileName: filename,\n                fileExtension: 'txt'\n            }\n        }\n    };\n});\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1680,4960],"id":"7d698608-6190-448d-aa43-e18af822aa30","name":"Clean Text1"},{"parameters":{"inputDataFieldName":"candidate_details","name":"candidate_details","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1z3jjgIhuTaXulqUfSRwI67cUORfXqlqh","mode":"list","cachedResultName":"candidate_document","cachedResultUrl":"https://drive.google.com/drive/folders/1z3jjgIhuTaXulqUfSRwI67cUORfXqlqh"},"options":{"appPropertiesUi":{"appPropertyValues":[{"key":"candidate_Email","value":"={{ $('update_hr_rejection').item.json.fields.Candidate_Email }}"},{"key":"candidate_Name","value":"={{ $('update_hr_rejection').item.json.fields.Candidate_Name }}"}]}}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1904,4960],"id":"10c80444-c71f-4b1b-a096-1277b0af9312","name":"Upload file2"},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"options":{"binaryPropertyName":"candidate_details","fileName":"={{ $json.name }}"}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2128,4960],"id":"6c4b86d0-37a2-414b-a1a1-64417a7df7be","name":"Download file2"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2352,4960],"id":"3bb846b5-4e1d-4725-8f42-cdd5928bbbd3","name":"Share file1"},{"parameters":{"jsCode":"// Get the current item's JSON data\nconst currentData = $input.first().json;\n\n// Get binary data from the Download file node\nconst downloadFileNodeData = $('Download file2').first();\n\n// Check if binary data exists\nif (!downloadFileNodeData.binary) {\n  throw new Error('No binary data found in Download file node');\n}\n\n// Get the binary data\nconst binaryData = downloadFileNodeData.binary;\n\n// Get the file ID from Upload file node to create Drive link\nconst uploadFileData = $('Upload file2').first().json;\nconst fileId = uploadFileData.id;\n\n// Create Google Drive link\nconst driveViewLink = `https://drive.google.com/file/d/${fileId}/view?usp=sharing`;\nconst driveDownloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;\n\nreturn {\n  json: {\n    ...currentData,\n    drive_link: driveViewLink,\n    drive_download_link: driveDownloadLink,\n    file_id: fileId\n  },\n  binary: binaryData\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2576,4960],"id":"c1b30695-03aa-4264-876b-feb3041f0cad","name":"get_updated_offer_lettter_drive_url"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Manual Review of Updated Offer Letter","emailType":"text","message":"=Hi\n\nPlease verify the below attached offer letter of candidate {{ $('Upload file2').item.json.appProperties.candidate_Name }}.\n \nHere is the link attached of offer letter: {{ $('get_updated_offer_lettter_drive_url').item.json.drive_link }}\n\nWe kindly request you to coordinate with us to ensure a smooth onboarding process.\nYour Joining date is scheduled on {{ $json.fields.Date_of_joining }}\n\nIf there is anything need to update reply in this mail.\nBest Regards,\nTeam\n","options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3024,4960],"id":"f101f046-1d9b-4b33-96f4-4db1f65d50aa","name":"updated_offer_letter_confirmation_with_HR","webhookId":"a5f28a17-1fe1-4a5b-acb6-63644ed3a0e7"},{"parameters":{"sendTo":"={{ $json.Candidate_Email }}","subject":"Submission of Required Documents","emailType":"text","message":"=Hi {{ $json.Candidate_Name }},\n\nAs we send the official offer letter for joining our organization. To complete the documentation process, we request you to kindly submit soft copies of the following documents at the earliest.\n\nDocuments Required:\nEducational Documents:\n10th & 12th Mark sheets\n\nGraduation/Post-Graduation Mark sheets and Degree Certificates\nProfessional Credentials:\nSkill Certifications, if any\nCertificates of Extra Activities (awarded by State or Central Government), if any\n\nWork Experience Proof:\nOffer Letters from the last two companies\nSalary Slips for the last three months\nCopy of Resignation Acceptance/Relieving Letter/Service Certificate\n\nFinancial and Identification Proof:\nForm 16 for FY 2023-24\nPAN Card Copy\nAadhaar Card Copy\nPassport Copy\nBank Account Details (First page of Passbook or Cancelled Cheque)\n\nRegards,\nHR Team\n","options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3248,4960],"id":"00915b6d-e1dd-4190-ab27-3d353f9ae5b4","name":"Ask_candidate_documents","webhookId":"c0695105-7bc6-49ee-881e-34b8f6d59619"},{"parameters":{"promptType":"define","text":"=Generate a 90-day training plan for:\n\nCandidate: {{ $('Update document verification').item.json.fields.Candidate_Name }}\nRole: {{ $('Update document verification').item.json.fields.Role_title }}\nDepartment: {{ $('Update document verification').item.json.fields.Department }}\nExperience: {{ $('Update document verification').item.json.fields['Work Experience'] }}\nJoining Date: {{ $('Update document verification').item.json.fields['Date Of Joining'] }}\n\nInclude:\n- Week-by-week schedule\n- Technical skills training (frontend, backend, databases)\n- Onboarding activities\n- Mentorship assignments\n- Monthly milestones and assessments\n- Key deliverables for each phase\n\nOutput should be in proper readble format.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[3792,5280],"id":"21320bc1-f7ee-4d88-afc5-974e772df5e5","name":"Generate_training_plan"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[3872,5504],"id":"5227539a-caf8-4483-8c47-5dca868aeb4c","name":"Google Gemini Chat Model1"},{"parameters":{"jsCode":"// Get all input items\nconst items = $input.all();\n\n// Map through each item\nreturn items.map(item => {\n    // Get content from the output field\n    let content = item.json.output;\n    \n    // Clean the text - remove all markdown formatting\n    content = content\n        .replace(/\\*\\*/g, '')           // Remove bold (**)\n        .replace(/\\*/g, '')             // Remove asterisks (*)\n        .replace(/^#+\\s+/gm, '')        // Remove headers (# ## ###)\n        .replace(/^---+\\s*$/gm, '')     // Remove horizontal rules (---)\n        .replace(/_{3,}/g, '')          // Remove underscores (___) \n        .replace(/\\[([^\\]]+)\\]\\([^\\)]+\\)/g, '$1')  // Remove links but keep text\n        .replace(/`/g, '')              // Remove code backticks\n        .replace(/^\\s*[\\r\\n]{2,}/gm, '\\n\\n'); // Clean up multiple blank lines\n    \n    // Convert to base64\n    const text_base64 = Buffer.from(content, 'utf-8').toString('base64');\n    \n    // Create filename\n    const candidateName = item.json.Candidate_Name || 'Candidate';\n    const filename = `Training_Plan_${candidateName.replace(/\\s+/g, '_')}.txt`;\n    \n    // Return formatted output\n    return {\n        json: item.json,\n        binary: {\n            training_plan: {\n                data: text_base64,\n                mimeType: 'text/plain',\n                fileName: filename,\n                fileExtension: 'txt'\n            }\n        }\n    };\n});"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[4144,5392],"id":"e080a54e-0285-4641-8595-e2fc013b1f5f","name":"download_training_plan"},{"parameters":{"inputDataFieldName":"training_plan","name":"training_plan","driveId":{"__rl":true,"value":"My Drive","mode":"list","cachedResultName":"My Drive","cachedResultUrl":"https://drive.google.com/drive/my-drive"},"folderId":{"__rl":true,"value":"1YZei-sRvNdyT7qlCvXts1HUQ4Mr1-Mze","mode":"list","cachedResultName":"candidate_training_plan","cachedResultUrl":"https://drive.google.com/drive/folders/1YZei-sRvNdyT7qlCvXts1HUQ4Mr1-Mze"},"options":{"appPropertiesUi":{"appPropertyValues":[{"key":"Candidate_Email","value":"={{ $('Update document verification').item.json.fields.Candidate_Email }}"}]}}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4368,5392],"id":"9aa5fc8b-0991-481c-aac7-e00cc9faf3e8","name":"upload_training_plan_file"},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"options":{"binaryPropertyName":"training_plan"}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4592,5392],"id":"b9cc039d-6c6a-4cc8-8ea2-f155b680d774","name":"Download_training_plan"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4816,5392],"id":"c116bd4b-0c59-4976-a069-cfb4f1e6b1de","name":"Share_training_plan"},{"parameters":{"amount":1,"unit":"minutes"},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[5488,5392],"id":"c49a1f64-f62f-4d86-89bc-33305907c2bf","name":"Wait","webhookId":"1bcd8ebd-2f0e-44a9-824f-fe4b8aff3cec"},{"parameters":{"jsCode":"// Get the current item's JSON data\nconst currentData = $input.first().json;\n\n// Get binary data from the Download file node\nconst downloadFileNodeData = $('Download_training_plan').first();\n\n// Check if binary data exists\nif (!downloadFileNodeData.binary) {\n  throw new Error('No binary data found in Download file node');\n}\n\n// Get the binary data\nconst binaryData = downloadFileNodeData.binary;\n\n// Get the file ID from Upload file node to create Drive link\nconst uploadFileData = $('upload_training_plan_file').first().json;\nconst fileId = uploadFileData.id;\n\n// Create Google Drive link\nconst driveViewLink = `https://drive.google.com/file/d/${fileId}/view?usp=sharing`;\nconst driveDownloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;\n\nreturn {\n  json: {\n    ...currentData,\n    drive_link: driveViewLink,\n    drive_download_link: driveDownloadLink,\n    file_id: fileId\n  },\n  binary: binaryData\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[5040,5392],"id":"26616a0c-dce5-416f-bd33-c037e9c44a11","name":"get_training_plan_url"},{"parameters":{"sendTo":"={{ $json.fields.Candidate_Email }}","subject":"=Welcome Abroad {{ $json.fields.Candidate_Email }}! Your 90-Day Training Plan is Ready","emailType":"text","message":"=Dear {{ $json.fields.Candidate_Email }}, \n\nCongratulations on accepting the offer for the position of {{ $json.fields.Role_title }} in our {{ $json.fields.Department }} Department!\n\nWe're excited to have you join our team and have prepared a comprehensive 90-Day Training Plan tailored specifically for your role.\n\nYOUR JOINING DETAILS:\n- Position: {{ $json.fields.Role_title }}\n- Department: {{ $json.fields.Department }}\n- Date of Joining: {{ $json.fields['Date Of Joining'] }}\n- CTC: {{ $json.fields.CTC }}\n\nDownload your training plan here:\n{{ $json.drive_link }}\n\nWe recommend reviewing the plan before your joining date to familiarize yourself with what to expect in your first three months.\n1. Review your training plan\n2. Complete pre-joining formalities (if any)\n3. Reach out to HR Team for any questions\n\nIf you have any questions or need clarification about the training plan, please don't hesitate to reach out.\n\nLooking forward to working with you!\n\nBest regards,\nHR Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[432,5904],"id":"2dd56a5c-42e5-443a-9c84-7eec32199c7b","name":"send_training_plan_welcome_candidate","webhookId":"65867acd-5ceb-4e5b-a6eb-7fbcd94d74ef"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"candidate_arrived":"check-in done","Candidate_Email":"={{ $('Update document verification').item.json.fields.Candidate_Email }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Date Of Joining","displayName":"Date Of Joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Upload Resume","displayName":"Upload Resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Email Reply","displayName":"Email Reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate Status","displayName":"Candidate Status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[5712,5392],"id":"dada4bd1-7fbc-45d3-bd28-19b7b5cc7d72","name":"candidate_arrived"},{"parameters":{"calendar":{"__rl":true,"value":"gmi.gj.dev.gajjardmk@gmail.com","mode":"list","cachedResultName":"gmi.gj.dev.gajjardmk@gmail.com"},"start":"={{ $('Airtable Trigger').item.json.fields['Date Of Joining'] }}T12:00:00+05:30","end":"={{ $('Airtable Trigger').item.json.fields['Date Of Joining'] }}T13:00:00+05:30","additionalFields":{"conferenceDataUi":{"conferenceDataValues":{"conferenceSolution":"hangoutsMeet"}},"summary":"Onboarding Presentation "}},"type":"n8n-nodes-base.googleCalendar","typeVersion":1.3,"position":[1104,5904],"id":"452aecad-5c94-4eac-ab62-635f46c7f152","name":"Onboarding_presentation"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"authentication":"airtableTokenApi","baseId":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"id"},"tableId":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"id"},"triggerField":"candidate_arrived","additionalFields":{}},"type":"n8n-nodes-base.airtableTrigger","typeVersion":1,"position":[208,5904],"id":"40041bc9-5957-4616-9b58-74b9d2cb48e3","name":"Airtable Trigger"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"Candidate_Email":"={{ $('Update document verification').item.json.fields.Candidate_Email }}","training_plan_link":"={{ $json.drive_link }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Date Of Joining","displayName":"Date Of Joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Upload Resume","displayName":"Upload Resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Email Reply","displayName":"Email Reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate Status","displayName":"Candidate Status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[5264,5392],"id":"7e4744e0-cdfd-4381-83ae-d3c7fa175ba2","name":"update_training_plan_link"},{"parameters":{"calendar":{"__rl":true,"value":"gmi.gj.dev.gajjardmk@gmail.com","mode":"list","cachedResultName":"gmi.gj.dev.gajjardmk@gmail.com"},"start":"={{ $('Airtable Trigger').item.json.fields['Date Of Joining'] }}T11:00:00+05:30","end":"={{ $('Airtable Trigger').item.json.fields['Date Of Joining'] }}T12:00:00+05:30","additionalFields":{"attendees":[],"conferenceDataUi":{"conferenceDataValues":{"conferenceSolution":"hangoutsMeet"}},"summary":"Team Intro"}},"type":"n8n-nodes-base.googleCalendar","typeVersion":1.3,"position":[656,5904],"id":"dc34fe1f-f7e5-4690-b5e3-21448835100c","name":"Team_intro_meeting"},{"parameters":{"sendTo":"={{ $('Airtable Trigger').item.json.fields.Candidate_Email }}","subject":"New Employee Form Submission","emailType":"text","message":"=Dear {{ $('Airtable Trigger').item.json.fields.Candidate_Name }},\n\nPlease Take a note to submit your new employee for connect with your branch HR to complete this on time.","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1328,5904],"id":"107682f5-7081-4ade-8bd7-7defc57ac120","name":"New_employee_form_submission","webhookId":"e6ae7ce6-4e9b-47eb-a21f-5cb364800105"},{"parameters":{"authentication":"oAuth2","select":"channel","channelId":{"__rl":true,"value":"C09P9Q5TC0N","mode":"list","cachedResultName":"gmindia_team"},"text":"=Welcome abroad {{ $('Airtable Trigger').item.json.fields.Candidate_Name }}!\n\nPlease cordinate with team using slack and if have any query please let us know!\nThanks","otherOptions":{"includeLinkToWorkflow":false}},"type":"n8n-nodes-base.slack","typeVersion":2.3,"position":[1552,5904],"id":"8928f550-60b8-4f2f-9149-663e46666916","name":"intro_message","webhookId":"dd71471a-0821-4244-9355-0e02d5618da8"},{"parameters":{"project":{"__rl":true,"value":"10001","mode":"list","cachedResultName":"Tutorial"},"issueType":{"__rl":true,"value":"10002","mode":"list","cachedResultName":"Idea"},"summary":"=Training Plan","additionalFields":{"assignee":{"__rl":true,"value":"712020:d3a4a642-ebfe-4612-8c0d-535e6f11293c","mode":"list","cachedResultName":"Dhruvi Gajjar"},"description":"Refer this given training plan and start working on that","priority":{"__rl":true,"value":"2","mode":"list","cachedResultName":"High"},"reporter":{"__rl":true,"value":"712020:d3a4a642-ebfe-4612-8c0d-535e6f11293c","mode":"list","cachedResultName":"Dhruvi Gajjar"}}},"type":"n8n-nodes-base.jira","typeVersion":1,"position":[2000,5904],"id":"8ce65eb0-82c6-4825-9f95-e47c3b60affb","name":"Assign_ticket_to_new_candidate"},{"parameters":{"resource":"issueAttachment","issueKey":"={{ $json.key }}"},"type":"n8n-nodes-base.jira","typeVersion":1,"position":[2448,5904],"id":"ae9c2a56-1d72-49d8-bf60-70977a299d73","name":"Add an attachment to an issue"},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $('Airtable Trigger').item.json.fields.training_plan_link }}","mode":"url"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2224,5904],"id":"466de96a-0bef-48aa-9a6e-92e3908d646e","name":"Download_training_plan_for_jira"},{"parameters":{"calendar":{"__rl":true,"value":"gmi.gj.dev.gajjardmk@gmail.com","mode":"list","cachedResultName":"gmi.gj.dev.gajjardmk@gmail.com"},"additionalFields":{"conferenceDataUi":{"conferenceDataValues":{"conferenceSolution":"hangoutsMeet"}}}},"type":"n8n-nodes-base.googleCalendar","typeVersion":1.3,"position":[1776,5904],"id":"cd94633a-febe-48e9-b476-83c7c8df2d80","name":"jira_orientation"},{"parameters":{"updates":["message"],"additionalFields":{}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.2,"position":[208,6800],"id":"40489c17-3dcd-404f-a655-5e5109e6783b","name":"Telegram Trigger","webhookId":"00889420-a6f5-4001-8fbb-6ca4780183c0","disabled":true},{"parameters":{"jsCode":"// Add \"Code\" node\nconst telegramData = $input.item.json;\n\nreturn {\n  json: {\n    telegram_id: telegramData.message.from.id.toString(),\n    username: telegramData.message.from.username || '',\n    first_name: telegramData.message.from.first_name,\n    message_text: telegramData.message.text,\n    chat_id: telegramData.message.chat.id\n  }\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[432,6800],"id":"b1cd6d61-7770-4fe5-a303-03ea9bd17509","name":"Extract_user_data"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"d6ba35aa-8bba-48b8-8635-389895bc488b","leftValue":"={{ $json.fields.telegram_id }}","rightValue":"","operator":{"type":"number","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[880,6800],"id":"a6e66204-066b-4610-ab87-585cd264cf70","name":"telegram_user_exist"},{"parameters":{"chatId":"={{ $json.fields.chat_id }}","text":"Welcome Back! \nHow can i help you?","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[1104,6800],"id":"e71cade7-97fc-41d2-89d8-e89ed32e2b3c","name":"Send a text message","webhookId":"62c638ee-41f2-42eb-bc3c-1d3f9c7e5d09"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appWZDV3jvkjAafMk","mode":"list","cachedResultName":"Telegram","cachedResultUrl":"https://airtable.com/appWZDV3jvkjAafMk"},"table":{"__rl":true,"value":"tblzxHfopYSR4GfBH","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appWZDV3jvkjAafMk/tblzxHfopYSR4GfBH"},"columns":{"mappingMode":"defineBelow","value":{"telegram_id":"={{ $json.telegram_id }}","username":"={{ $json.username }}","first_name":"={{ $json.first_name }}","message_text":"={{ $json.message_text }}","chat_id":"={{ $json.chat_id }}"},"matchingColumns":["telegram_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"telegram_id","displayName":"telegram_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"username","displayName":"username","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"first_name","displayName":"first_name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"message_text","displayName":"message_text","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"chat_id","displayName":"chat_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[656,6800],"id":"149949d0-c7c3-4771-8c73-3219d0dd3f5a","name":"telegram_user_creation"},{"parameters":{"jsCode":"const message = $input.item.json.message.text || '';\nconst telegram_id = $input.item.json.message.from.id.toString();\nconst chat_id = $input.item.json.message.chat.id;\nconst first_name = $input.item.json.message.from.first_name || 'User';\n\n// Determine command type\nlet command = '';\nlet question = '';\n\nif (message.startsWith('/')) {\n  const parts = message.split(' ');\n  command = parts[0].toLowerCase();\n  question = parts.slice(1).join(' ');\n} else {\n  command = 'ask';  // Treat regular messages as questions\n  question = message;\n}\n\nreturn {\n  json: {\n    telegram_id,\n    chat_id,\n    first_name,\n    command,\n    question,\n    original_message: message\n  }\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[656,7136],"id":"3f7cb7f8-c804-41e2-805d-50e3baf2d1f1","name":"parse_code"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.command }}","rightValue":"ask","operator":{"type":"string","operation":"equals"},"id":"4bd780e9-4139-49a9-905f-38063dea947b"}],"combinator":"and"}}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.3,"position":[880,7136],"id":"53a462f9-5b78-4ab4-98cf-78d34aab0825","name":"Switch"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[1184,7360],"id":"e1d03bd8-a6d6-4806-9466-96a38e6833d3","name":"Google Gemini Chat Model2"},{"parameters":{"chatId":"={{ $json.result.chat.id }}","text":" Welcome to GMIndia!\n\nI'm your AI Onboarding Mentor for the next 3 months.\n\n Here's what I can help you with:\n- roadmap - View your complete 3-month plan\n- week - See this week's goals\n- ask question- Ask me anything!\n\nLet's start your journey! If you have any questions please ask here!","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[1328,6800],"id":"d8a2637a-fdde-428f-8eb6-18e4e28fe449","name":"AI_mentor_welcome_message","webhookId":"8efdd884-7bcb-4d24-9167-90c5287830f4"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"ab33ce4f-5bc9-4219-99af-2dfbee42e6f0","leftValue":"={{ $json.message.from.is_bot }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[432,7136],"id":"18373bd7-75a2-497d-b66c-26142a837657","name":"Filter_user_prompt"},{"parameters":{"jsCode":"// Remove markdown formatting\nlet cleanedText = rawText;\ncleanedText = cleanedText.replaceAll('**', '');\ncleanedText = cleanedText.replaceAll('*', '');\ncleanedText = cleanedText.replaceAll('##', '');\n\n// Clean up multiple blank lines\nwhile (cleanedText.includes('\\n\\n\\n')) {\n  cleanedText = cleanedText.replace('\\n\\n\\n', '\\n\\n');\n}\n\ncleanedText = cleanedText.trim();"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1456,7136],"id":"0fb6448d-c0ba-4dc7-8e14-5f5c49dbd38b","name":"clean_text"},{"parameters":{"chatId":"={{ $('Switch').item.json.chat_id }}","text":"={{ $json.text }}","additionalFields":{"appendAttribution":false}},"type":"n8n-nodes-base.telegram","typeVersion":1.2,"position":[1680,7136],"id":"10d421ea-fc8a-46a9-8df0-2ca96c27f20e","name":"Send a text message2","webhookId":"be2bd348-5d9f-433c-81ea-ee62ffee6010"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[432,6128],"id":"35a0886b-873d-455d-a1e6-70e70c990eae","name":"Search records"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[880,6128],"id":"fc2491ac-337c-4a33-9d00-9f4537d78023","name":"Loop Over Items"},{"parameters":{},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[656,6128],"id":"8d406f7f-29cf-4425-befe-2326c2f99778","name":"Wait1","webhookId":"96958e7f-4936-47ab-a3cf-a947f2c4b284"},{"parameters":{"sendTo":"={{ $json.Candidate_Email }}","subject":"=End Of Week Feedback Form","message":"=<!DOCTYPE html>\n<html>\n<head>\n    <style>\n        body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            line-height: 1.6;\n            color: #333;\n            background-color: #f4f4f4;\n            margin: 0;\n            padding: 0;\n        }\n        .email-container {\n            max-width: 600px;\n            margin: 20px auto;\n            background: white;\n            border-radius: 10px;\n            overflow: hidden;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .header {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            padding: 30px 20px;\n            text-align: center;\n        }\n        .header h1 {\n            margin: 0;\n            font-size: 24px;\n        }\n        .content {\n            padding: 30px;\n        }\n        .greeting {\n            font-size: 18px;\n            font-weight: bold;\n            margin-bottom: 15px;\n            color: #2c3e50;\n        }\n        .intro-box {\n            background: #f8f9fa;\n            padding: 20px;\n            border-left: 4px solid #667eea;\n            margin: 20px 0;\n            border-radius: 5px;\n        }\n        .points-list {\n            background: #fff;\n            padding: 20px;\n            margin: 20px 0;\n            border-radius: 5px;\n            border: 1px solid #e0e0e0;\n        }\n        .points-list ul {\n            margin: 10px 0;\n            padding-left: 20px;\n        }\n        .points-list li {\n            margin: 10px 0;\n            font-size: 15px;\n        }\n        .cta-button {\n            text-align: center;\n            margin: 30px 0;\n        }\n        .cta-button a {\n            display: inline-block;\n            padding: 16px 40px;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white !important;\n            text-decoration: none;\n            border-radius: 50px;\n            font-weight: bold;\n            font-size: 16px;\n            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);\n            transition: transform 0.2s;\n        }\n        .cta-button a:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);\n        }\n        .deadline {\n            background: #fff3cd;\n            border-left: 4px solid #ffc107;\n            padding: 15px;\n            margin: 20px 0;\n            border-radius: 5px;\n        }\n        .deadline strong {\n            color: #856404;\n        }\n        .footer {\n            background: #f8f9fa;\n            padding: 20px;\n            text-align: center;\n            font-size: 13px;\n            color: #666;\n            border-top: 1px solid #e0e0e0;\n        }\n        .icon {\n            font-size: 20px;\n            vertical-align: middle;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"email-container\">\n        <div class=\"header\">\n            <h1> Weekly Feedback Time!</h1>\n        </div>\n        \n        <div class=\"content\">\n            <div class=\"greeting\">\n                Hi {{ $json.Candidate_Name }},\n            </div>\n            \n            <p>Your insights help us:</p>\n            <ul style=\"color: #555;\">\n                <li>Track team progress effectively</li>\n                <li>Identify and resolve blockers quickly</li>\n                <li>Provide better support where needed</li>\n            </ul>\n            \n            <div class=\"points-list\">\n                <strong style=\"color: #667eea; font-size: 16px;\"> What to include in your feedback:</strong>\n                <ul>\n                    <li><strong>Key Accomplishments</strong> - What did you achieve?</li>\n                    <li><strong>Challenges Faced</strong> - Any obstacles or blockers?</li>\n                    <li><strong>Support Needed</strong> - How can we help you?</li>\n                    <li><strong>Goals for Next Week</strong> - What's on your plate?</li>\n                    <li><strong>Week Rating</strong> - How was your week overall?</li>\n                </ul>\n            </div>\n            \n            <div class=\"cta-button\">\n                <a href=\"https://n8n-gmi-n8n.i2bzua.easypanel.host/form/34c0673a-01d7-424e-a6bc-34c1a860cc28\"> Submit Your Weekly Feedback\n                </a>\n            </div>\n        </div>\n        </div>\n    </div>\n</body>\n</html>","options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1104,6128],"id":"b4148c5d-a6a3-4afd-a7b8-eacc3b4e500c","name":"Send_end_of_week_feedback","webhookId":"6ae1546c-9e77-4830-9f29-0a484939adc2"},{"parameters":{"updates":["message"],"additionalFields":{}},"type":"n8n-nodes-base.telegramTrigger","typeVersion":1.2,"position":[208,7136],"id":"93c3fbce-8d0b-4a06-b1a7-30e485667608","name":"Telegram Trigger1","webhookId":"574bed2e-19fc-4817-8313-ca9f8cb01b55","disabled":true},{"parameters":{"rule":{"interval":[{}]}},"type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[208,6128],"id":"65301d7d-8aa0-4d83-b8e6-14a51e790e05","name":"Schedule Trigger"},{"parameters":{"formTitle":"End Of Week Feedback","formFields":{"values":[{"fieldLabel":"Name"},{"fieldLabel":"Email"},{"fieldLabel":"Task "},{"fieldLabel":"Task Update"},{"fieldLabel":"Task Feedback"}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.3,"position":[208,6352],"id":"19d834e3-4922-4ec1-848d-f05813805454","name":"On form submission","webhookId":"34c0673a-01d7-424e-a6bc-34c1a860cc28"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appmCIBSUa2nPsxBN","mode":"list","cachedResultName":"Weekly_feedback","cachedResultUrl":"https://airtable.com/appmCIBSUa2nPsxBN"},"table":{"__rl":true,"value":"tbl7YJz5FwYBhuNKX","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appmCIBSUa2nPsxBN/tbl7YJz5FwYBhuNKX"},"columns":{"mappingMode":"defineBelow","value":{"Name":"={{ $json.Name }}","Email":"={{ $json.Email }}","Task":"={{ $json[\"Task \"] }}","Task Update":"={{ $json[\"Task Update\"] }}","Task Feedback":"={{ $json[\"Task Feedback\"] }}"},"matchingColumns":["Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"Name","displayName":"Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Email","displayName":"Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Task","displayName":"Task","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Task Update","displayName":"Task Update","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Task Feedback","displayName":"Task Feedback","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[432,6352],"id":"3eb1757d-b11d-46fd-8a17-be8008117261","name":"feedback_data_store"},{"parameters":{"rule":{"interval":[{"field":"months","triggerAtHour":11}]}},"type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[208,6576],"id":"dbe3b7aa-8edb-4e6d-b1dd-9d8cdd5f2fc6","name":"Schedule Trigger1"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[432,6576],"id":"d8ff82b7-f151-4966-bd2f-ae26451f59fb","name":"Search records1"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"abfd3477-e8a3-4aa8-90b4-428fbca198e1","leftValue":"={{DateTime.fromISO($json[\"Date Of Joining\"]).plus({days: 30}).toFormat('yyyy-MM-dd')}}","rightValue":"=","operator":{"type":"dateTime","operation":"equals"}},{"id":"0f7d5266-bcc7-45c8-bd85-bebea447f864","leftValue":"","rightValue":"","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[656,6576],"id":"89c233f4-6262-4da7-ad2d-1b338641e270","name":"Filter3"},{"parameters":{"promptType":"define","text":"=You are an HR assistant responsible for creating professional offer letters.\nGenerate a complete and properly formatted offer letter using the following candidate and job details:\nCandidate Details:\n\nCandidate ID: {{ $json.candidate_id }}\nCandidate Name: {{ $json.Candidate_Name }}\nCandidate Email: {{ $json.Candidate_Email }}\nRole Title: {{ $json.Role_title }}\nDepartment: {{ $json.Department }}\nAnnual CTC: {{ $json.CTC }}\nWork Experience: {{ $json['Work Experience'] }} \nDate of Joining: {{ $json.Date_of_joining }}\n\nFormat Requirements:\nThe offer letter MUST follow this exact professional structure:\n\nGMIndia Pvt Ltd\nwww.gmindia.com\nEmail: hr@gmindia.com\nPhone: +91-XXX-XXX-XXXX\n\nJOB OFFER LETTER\nTo:\n{{ $json.Candidate_Name }}\n{{ $json.Candidate_Email }}\nDate: [Current Date - Format: Mon DD, YYYY]\nDear {{ $json.Candidate_Name }},\nWe are pleased to offer you the position of {{ $json.Role_title }} at GMIndia Pvt Ltd. Your skills and experience will be a valuable addition to our team.\nDetails of the Offer:\n\nPosition: {{ $json.Role_title }}\nDepartment: {{ $json.Department }}\nStart Date: {{ $json.Date_of_joining }}\nWork Location: [Office Location/City]\nAnnual CTC: {{ $json.CTC }}\nSalary: Competitive package as per company standards\nBenefits: Health Insurance, Paid Leaves, Professional Development Support\nProbation Period: 3 months\nNotice Period: 3 months (post confirmation)\n\nWe look forward to your contribution and growth with us. Please confirm your acceptance by replying to this letter before [Date - 7 days from current date].\nSincerely,\n[HR Manager Name]\nHR Team\nGMIndia Pvt Ltd\n\nInstructions:\n\nUse clean, professional formatting with proper spacing\nKeep paragraphs concise and well-structured\nUse bullet points () for offer details\nMaintain formal business letter tone\nUse current date in \"Mon DD, YYYY\" format (e.g., Jan 3, 2027)\nReplace all placeholders with actual candidate data\nKeep the layout simple and readable\n\nGenerate ONLY the offer letter content without any additional explanations, markdown code blocks, or extra commentary.RetryClaude can make mistakes. Please double-check responses.","hasOutputParser":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[1328,4032],"id":"15edfc2e-d0c9-4a30-a5a9-421855eda915","name":"Offer letter"},{"parameters":{"promptType":"define","text":"=You are an HR assistant responsible for creating professional offer letters.\n\nGenerate a complete and properly formatted offer letter using the following candidate and job details:\n\nIMPORTANT: The HR has replied with requested changes. Their response was: {{ $json['Email Reply'] }} update offer letter according to this email reply.\n\nPlease carefully read their feedback and generate an UPDATED offer letter that addresses their requested changes while maintaining professionalism.\n\nCandidate Details:\n\nCandidate ID: {{ $json.Candidate_Id }}\nCandidate Name: {{ $json.Candidate_Name }}\nCandidate Email: {{ $json.Candidate_Email }}\nRole Title: {{ $json.Role_Title }}\nDepartment: {{ $json.Department }}\nAnnual CTC: {{ $json.CTC }}\nWork Experience: {{ $json['Work Experience'] }} years\nDate of Joining: {{ $json['Date Of Joining'] }}\n\nFormat Requirements:\nThe offer letter MUST follow this exact professional structure:\n\nGMIndia Pvt Ltd\nwww.gmindia.com\nEmail: hr@gmindia.com\nPhone: +91-XXX-XXX-XXXX\n\nJOB OFFER LETTER\nTo:\n{{ $json.Candidate_Name }}\n{{ $json.Candidate_Email }}\nDate: [Current Date - Format: Mon DD, YYYY]\nDear {{ $json.Candidate_Name }},\nWe are pleased to offer you the position of {{ $json.Role_Title }} at GMIndia Pvt Ltd. Your skills and experience will be a valuable addition to our team.\nDetails of the Offer:\n\nPosition: {{ $json.Role_Title }}\nDepartment: {{ $json.Department }}\nStart Date: {{ $json['Date Of Joining'] }}\nWork Location: [Office Location/City]\nAnnual CTC: {{ $json.CTC }}\nSalary: Competitive package as per company standards\nBenefits: Health Insurance, Paid Leaves, Professional Development Support\nProbation Period: 3 months\nNotice Period: 3 months (post confirmation)\n\nWe look forward to your contribution and growth with us. Please confirm your acceptance by replying to this letter before [Date - 7 days from current date].\nSincerely,\n[HR Manager Name]\nHR Team\nGMIndia Pvt Ltd\n\nInstructions:\n\nUse clean, professional formatting with proper spacing\nKeep paragraphs concise and well-structured\nUse bullet points () for offer details\nMaintain formal business letter tone\nUse current date in \"Mon DD, YYYY\" format (e.g., Jan 3, 2027)\nReplace all placeholders with actual candidate data\nKeep the layout simple and readable\n\nGenerate ONLY the offer letter content without any additional explanations, markdown code blocks, or extra commentary.RetryClaude can make mistakes. Please double-check responses.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[1328,4960],"id":"aa1621ce-c0b8-4723-b9ce-53f498549492","name":"update offer letter"},{"parameters":{"promptType":"define","text":"=Your are an agent that solve any question that is ask regarding Newly joined Employees Training Plan. \nExplain inshort.\n\nHere is the Question:-{{ $json.question }}","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[1104,7136],"id":"724dba16-74c7-4b26-ad27-41dd03919da6","name":"AI Agent Ask"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"34c01d84-1036-4b21-bdbf-67aa84a2f59b","leftValue":"={{ $json[\"Email Reply\"] && /\\b(yes|agree|proceed|accept|confirm|interested|sure|okay|ok)\\b/i.test($json[\"Email Reply\"]) }}","rightValue":"=","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"or"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[656,4288],"id":"e5ad377a-8c4d-431e-b269-d7ff1b49d21a","name":"candidate reply"},{"parameters":{"formTitle":"Candidate Details","formDescription":"Enter candidate Details\n","formFields":{"values":[{"fieldLabel":"Candidate_Id","fieldType":"number","requiredField":true},{"fieldLabel":"Candidate_Name","requiredField":true},{"fieldLabel":"Candidate_Email","fieldType":"email","requiredField":true},{"fieldLabel":"Role_Title","requiredField":true},{"fieldLabel":"Department","requiredField":true},{"fieldLabel":"CTC","fieldType":"number","requiredField":true},{"fieldLabel":"Date Of Joining","fieldType":"date","requiredField":true},{"fieldLabel":"Work Experience"},{"fieldLabel":"Upload Resume","fieldType":"file","acceptFileTypes":"pdf jpg png"}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.3,"position":[208,3808],"id":"572e57b5-3aa6-4208-87da-91938af55457","name":"candidate details form","webhookId":"da30c43d-f5b0-4460-9107-703f04fe36db"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"filters":{}},"type":"n8n-nodes-base.gmailTrigger","typeVersion":1.3,"position":[208,5536],"id":"9ef6fd43-36e5-4898-a514-dd7ab395312b","name":"candidate submit document"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"simple":false,"filters":{"includeSpamTrash":true,"labelIds":["INBOX"],"q":" subject: agree","readStatus":"unread"},"options":{}},"type":"n8n-nodes-base.gmailTrigger","typeVersion":1.3,"position":[208,4288],"id":"ed84aaea-989f-4f2f-9be6-ff7eebaeba94","name":"candidate reply1"},{"parameters":{"pollTimes":{"item":[{"mode":"everyHour"}]},"simple":false,"filters":{"readStatus":"unread"},"options":{"dataPropertyAttachmentsPrefixName":"data"}},"type":"n8n-nodes-base.gmailTrigger","typeVersion":1.3,"position":[208,4800],"id":"f3a4b7a2-823f-4b9f-bc4f-1186048541a2","name":"HR offer letter reply"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"candidate_id":"={{ $json.Candidate_Id }}","Candidate_Name":"={{ $json.Candidate_Name }}","Candidate_Email":"={{ $json.Candidate_Email }}","Role_title":"={{ $json.Role_Title }}","Department":"={{ $json.Department }}","CTC":"={{ $json.CTC }}","Date_of_joining":"={{ $json[\"Date Of Joining\"] }}","Work Experience":"={{ $json[\"Work Experience\"] }}","upload_resume":"={{ $json[\"Upload Resume\"][0].filename }}"},"matchingColumns":["candidate_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[432,3808],"id":"9a779b75-1616-4947-bbe4-b82d429af0a1","name":"candidate_details1"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"Candidate_Email":"={{ $json.from.value[0].address }}","email_reply":"={{ $('Code in JavaScript').item.json[\"Email Reply\"] }}","candidate_status":"Candidate Accept offer"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,4144],"id":"6672322c-1b66-4b37-a70b-c07cfde8883d","name":"candidate approve"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"filterByFormula":"={Candidate_Email} = '{{ $json.fields.Candidate_Email }}'","options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1104,4144],"id":"b7f91a01-9789-492f-a543-1f1197ff607a","name":"Search records6"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"Candidate_Email":"={{ $('Download file').item.json.appProperties.Candidate_Email }}","Offer_letter_link":"={{ $json.drive_link }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[2800,4144],"id":"6ec536ad-c1f7-4b72-8413-302384180106","name":"update_offer_letter_drive_link"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"Candidate_Email":"={{ $('Code in JavaScript').item.json.from.value[0].address }}","email_reply":"={{ $('Code in JavaScript').item.json[\"Email Reply\"] }}","candidate_status":"Declined by Candidate"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,4432],"id":"2c6ad86f-2e21-461a-859d-1dac154f137e","name":"candidate_reject"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"filterByFormula":"={Candidate_Email} = '{{ $json.from.value[0].address }}'","options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,4656],"id":"4c34f4e6-700e-4147-8504-84de2fcd21bc","name":"Search records7"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"Candidate_Email":"={{ $json.Candidate_Email }}","candidate_id":"={{ $json.candidate_id }}","Candidate_Name":"={{ $json.Candidate_Name }}","Role_title":"={{ $json.Role_title }}","Department":"={{ $json.Department }}","CTC":"={{ $json.CTC }}","Date_of_joining":"={{ $json.Date_of_joining }}","Work Experience":"={{ $json[\"Work Experience\"] }}","upload_resume":"={{ $json.upload_resume }}","email_reply":"={{ $json.email_reply }}","candidate_status":"={{ $json.candidate_status }}","Offer_letter_link":"={{ $json.Offer_letter_link }}","HR_confirmation_for_offer_letter":"Approved offer letter"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1104,4656],"id":"808cfda7-1f37-411f-bbb2-40fcf845791e","name":"update_hr_confirmation"},{"parameters":{"sendTo":"={{ $json.fields.Candidate_Email }}","subject":"Offer Letter From GMIndia","emailType":"text","message":"=Hi, {{ $json.fields.Candidate_Name }} \n\nWe are pleased to offer you the position of {{ $json.fields.Role_title }} at GMIndia Pvt Ltd. We were impressed by your background and are excited about the potential contributions you can bring to our team.\n\nPlease find attached your official offer letter, which includes details about your compensation, benefits, start date, and other employment terms.\n\nKindly review the offer and confirm your acceptance by replying to this email or signing and returning the attached letter withing 2 or 3 days.\n\nIf you have any questions or need clarification, please dont hesitate to reach out to me directly.\n\nOffer_Letter: {{ $json.fields.Offer_letter_link }}\n\nWe look forward to welcoming you to our team!\n\nRegards,\nHR Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1680,4656],"id":"b3adb880-17c6-466a-8e9f-796b463c430f","name":"send_offer_letter_to_candidate","webhookId":"2aa3e006-2c30-4ccb-8cd0-3dcc590ae334"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"=tbl09i6ywr5dS0XWL","mode":"id"},"columns":{"mappingMode":"defineBelow","value":{"CTC":"={{ $('update_hr_confirmation').item.json.fields.CTC }}","offer_send_to_candidate":"Offer Letter Send Successfully","Candidate_Email":"={{ $('update_hr_confirmation').item.json.fields.Candidate_Email }}","candidate_id":"={{ $('update_hr_confirmation').item.json.fields.candidate_id }}","Candidate_Name":"={{ $('update_hr_confirmation').item.json.fields.Candidate_Name }}","Role_title":"={{ $('update_hr_confirmation').item.json.fields.Role_title }}","Department":"={{ $('update_hr_confirmation').item.json.fields.Department }}","Date_of_joining":"={{ $('update_hr_confirmation').item.json.fields.Date_of_joining }}","upload_resume":"={{ $('update_hr_confirmation').item.json.fields.upload_resume }}","Work Experience":"={{ $('update_hr_confirmation').item.json.fields[\"Work Experience\"] }}","email_reply":"={{ $('update_hr_confirmation').item.json.fields.email_reply }}","candidate_status":"={{ $('update_hr_confirmation').item.json.fields.candidate_status }}","Offer_letter_link":"={{ $('update_hr_confirmation').item.json.fields.Offer_letter_link }}","HR_confirmation_for_offer_letter":"={{ $('update_hr_confirmation').item.json.fields.HR_confirmation_for_offer_letter }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1904,4656],"id":"f99110e9-7976-4a7b-9fb0-72dcba98fc32","name":"update_offer_letter_send"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"filterByFormula":"={Candidate_Email} = '{{ $json.from.value[0].address }}'","options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,4960],"id":"ef6cd51c-f49b-47a6-a8c0-c842b76c1599","name":"Search records8"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"CTC":"={{ $json.CTC }}","Candidate_Email":"={{ $json.Candidate_Email }}","Candidate_Name":"={{ $json.Candidate_Name }}","candidate_id":"={{ $json.candidate_id }}","Role_title":"={{ $json.Role_title }}","Department":"={{ $json.Department }}","Date_of_joining":"={{ $json.Date_of_joining }}","Work Experience":"={{ $json[\"Work Experience\"] }}","upload_resume":"={{ $json.upload_resume }}","email_reply":"={{ $json.email_reply }}","candidate_status":"={{ $json.candidate_status }}","Offer_letter_link":"={{ $json.Offer_letter_link }}","offer_send_to_candidate":"={{ $json.offer_send_to_candidate }}","HR_confirmation_for_offer_letter":"={{ $('Extracting_mail_reply').item.json.replyText }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1104,4960],"id":"e054d3d9-12fc-4c2b-a9be-7098e4a7901a","name":"update_hr_rejection"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"Candidate_Email":"={{ $('Upload file2').item.json.appProperties.candidate_Email }}","Offer_letter_link":"={{ $json.drive_link }}","offer_send_to_candidate":"={{ $('update_hr_rejection').item.json.fields.offer_send_to_candidate }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Date Of Joining","displayName":"Date Of Joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Upload Resume","displayName":"Upload Resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Email Reply","displayName":"Email Reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate Status","displayName":"Candidate Status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[2800,4960],"id":"bffcf7dc-d00d-49de-a6fa-9f18f4a0b55d","name":"offer_letter_send_to_candidate"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"columns":{"mappingMode":"defineBelow","value":{"Candidate_Email":"={{ $('get_email').item.json.from_email }}","candidate_document":"={{ $json.drive_link }}"},"matchingColumns":["Candidate_Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"candidate_id","displayName":"candidate_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Candidate_Name","displayName":"Candidate_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Candidate_Email","displayName":"Candidate_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Role_title","displayName":"Role_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"CTC","displayName":"CTC","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Date_of_joining","displayName":"Date_of_joining","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Work Experience","displayName":"Work Experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"upload_resume","displayName":"upload_resume","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"email_reply","displayName":"email_reply","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_status","displayName":"candidate_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Offer_letter_link","displayName":"Offer_letter_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"HR_confirmation_for_offer_letter","displayName":"HR_confirmation_for_offer_letter","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"offer_send_to_candidate","displayName":"offer_send_to_candidate","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"candidate_document","displayName":"candidate_document","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"training_plan_link","displayName":"training_plan_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"document_verification_status","displayName":"document_verification_status","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_arrived","displayName":"candidate_arrived","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1776,5600],"id":"e3905bb2-5ba8-4ca6-87f6-ac51d2b4d1b3","name":"update_drive_link"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appGT9AeqjnBWgAYV","mode":"list","cachedResultName":"candidate_details","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV"},"table":{"__rl":true,"value":"tbl09i6ywr5dS0XWL","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appGT9AeqjnBWgAYV/tbl09i6ywr5dS0XWL"},"filterByFormula":"={Candidate_Email} = '{{ $json.fields.Candidate_Email }}'","options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[2000,5600],"id":"423b79ab-702c-40e9-bef6-9dc1340f6771","name":"Search records9"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[960,496],"id":"32b2564d-3e2e-4b05-9076-2c61fcb1360b","name":"Google Gemini Chat Model3"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"9a94c243-0fb6-4bfa-ad90-e3ece2dda2fb","leftValue":"={{ ['approved', 'approve', 'yes', 'accept', 'ok'].some(word => ($json.replyText || '').toLowerCase().includes(word)) }}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[656,864],"id":"776e9f9f-826f-4961-8ea9-e2c93328ee20","name":"If2"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"simple":false,"filters":{},"options":{}},"type":"n8n-nodes-base.gmailTrigger","typeVersion":1.3,"position":[208,864],"id":"cf38fdb6-bc70-4e01-b178-78d5fed2498e","name":"Gmail Trigger"},{"parameters":{"jsCode":"// n8n Code Node - Extract Only the Email Reply Text\n\nlet emailData;\n\ntry {\n  const input = $input.all()[0].json;\n  \n  // Check if input is an array\n  if (Array.isArray(input)) {\n    emailData = input[0];\n  } else {\n    emailData = input;\n  }\n} catch (e) {\n  return {\n    json: {\n      error: 'Could not parse email data',\n      details: e.message\n    }\n  };\n}\n\n// Function to extract just the reply text\nfunction extractReply(text) {\n  if (!text) return '';\n  \n  // Find the \"On ... wrote:\" separator\n  const match = text.match(/^(.*?)(?=On .+ wrote:|On .+ <.+> wrote:)/is);\n  \n  if (match) {\n    return match[1].trim();\n  }\n  \n  // If no quoted message found, just return all text\n  return text.trim();\n}\n\n// Extract reply\nconst replyText = extractReply(emailData?.text || '');\n\nreturn {\n  json: {\n    replyText: replyText\n  }\n};\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[432,864],"id":"2bcf0e00-30ed-4112-9f0f-d4ab98e82246","name":"Code in JavaScript1"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,1008],"id":"1402e490-43a3-4048-b41d-6d34b168fbc7","name":"Search records2"},{"parameters":{"operation":"update","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"Record_id":"={{ $json.Record_id }}","Department":"={{ $json.Department }}","Qualification":"={{ $json.Qualification }}","Skills":"={{ $json.Skills }}","Salary Range":"={{ $json[\"Salary Range\"] }}","Urgency":"={{ $json.Urgency }}","Number_Of_Position":"={{ $json.Number_Of_Position }}","Manager_Name":"={{ $json.Manager_Name }}","Manager_Email":"={{ $json.Manager_Email }}","Position_Title":"={{ $json.Position_Title }}","Experience_Required":"={{ $json.Experience_Required }}","JD_Details":"={{ $json.JD_Details }}","Manager_CEO_Approval_On_JD":"={{ $('Code in JavaScript1').item.json.replyText }}"},"matchingColumns":["Record_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Salary Range","displayName":"Salary Range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1552,1008],"id":"3fcced71-563b-414f-a97a-d0623d52d5fb","name":"Update record"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[1408,1664],"id":"bae9e2a1-edbe-4fae-b58f-673a92bc6e3a","name":"Google Gemini Chat Model4"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[1856,1232],"id":"dcdf73f7-7c97-4fad-966a-d237dcdfdab3","name":"Google Gemini Chat Model5"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[432,1568],"id":"94330cfc-1595-4749-ae39-f9e324085fc7","name":"Search records3"},{"parameters":{"operation":"update","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"id":"={{ $json.id }}","Department":"={{ $json.Department }}","Qualification":"={{ $json.Qualification }}","Skills":"={{ $json.Skills }}","Urgency":"={{ $json.Urgency }}","Number_Of_Position":"={{ $json.Number_Of_Position }}","Manager_Name":"={{ $json.Manager_Name }}","Manager_Email":"={{ $json.Manager_Email }}","Position_Title":"={{ $json.Position_Title }}","Experience_Required":"={{ $json.Experience_Required }}","JD_Details":"={{ $json.JD_Details }}","Manager_CEO_Approval_On_JD":"=","salary_range":0},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"salary_range","displayName":"salary_range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1104,1440],"id":"1cb8355e-1348-4ad2-95ed-389d91808cd8","name":"Update record1"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[656,1568],"id":"d017d0c2-0cec-4665-903c-311f2bd9977f","name":"Sort"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"0e2cff7f-ef3b-41f3-a816-af41d59cfa7e","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"number","operation":"equals"}},{"id":"e7139492-0f51-4da2-bfaa-48c22061c0b3","leftValue":"","rightValue":"","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{"ignoreCase":false}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[880,1568],"id":"538cc8be-5230-402e-baf8-cb7fe065ff86","name":"Filter4"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[1104,1008],"id":"e5064f02-61c6-4f4f-9759-a103d58e0fb7","name":"Sort1"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"79a3ef05-7b75-4a47-a1f5-7748b1106b5e","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"number","operation":"equals"}},{"id":"5d4a53ad-9784-4426-9c3d-bebddf183023","leftValue":"","rightValue":"","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[1328,1008],"id":"8f551f42-d86b-4bf5-b557-2f3f31739943","name":"Filter5"},{"parameters":{"rule":{"interval":[{"field":"months","triggerAtHour":10}]}},"type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[208,48],"id":"f34943a8-a5e7-47c3-b88d-524dd4dd9432","name":"Schedule trigger manpower details request"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Request for Manpower Mandatory Details Form","emailType":"text","message":"=Dear Dhruvi,\n\nPlease Refer given form of request for manpower details.If have any requirements please fill out this form: https://n8n-gmi-n8n.i2bzua.easypanel.host/form/a8acb007-521c-4f6b-9439-8fe53f2e935a\n\nThanks\n\nBest Regards,\nHR Department","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[432,48],"id":"5098437e-ddbf-47a9-994b-31a41d0ffb22","name":"Request for ManpowerMandatory Details","webhookId":"66b64794-236e-41dd-9ca7-53513900cf56"},{"parameters":{"formTitle":"Raise Manpower Request With Mandatory Details","formFields":{"values":[{"fieldLabel":"Id","fieldType":"number"},{"fieldLabel":"Manager Name"},{"fieldLabel":"Manager Email","fieldType":"email"},{"fieldLabel":"Department"},{"fieldLabel":"Position Title"},{"fieldLabel":"Number Of Position","fieldType":"number"},{"fieldLabel":"Experience Required"},{"fieldLabel":"Qualification"},{"fieldLabel":"Skills"},{"fieldLabel":"Salary Range"},{"fieldLabel":"Urgency"}]},"options":{}},"type":"n8n-nodes-base.formTrigger","typeVersion":2.3,"position":[208,384],"id":"994fab96-cf1f-4bd7-865a-e7cddffa923a","name":"Raise Manpower Request Details","webhookId":"a8acb007-521c-4f6b-9439-8fe53f2e935a"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"Department":"={{ $json.Department }}","Skills":"={{ $json.Skills }}","Qualification":"={{ $json.Qualification }}","Urgency":"={{ $json.Urgency }}","Record_id":"={{ $json.Id }}","Manager_Name":"={{ $json[\"Manager Name\"] }}","Manager_Email":"={{ $json[\"Manager Email\"] }}","Position_Title":"={{ $json[\"Position Title\"] }}","Number_Of_Position":"={{ $json[\"Number Of Position\"] }}","Experience_Required":"={{ $json[\"Experience Required\"] }}","salary_range":"={{ $json['Salary Range'] }}"},"matchingColumns":["Record_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"salary_range","displayName":"salary_range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[432,384],"id":"62ffaf64-5575-470b-b8ae-3d395c45c056","name":"store manpower request details"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Create Job Description","emailType":"text","message":"=Dear HR Team,\n\nA new manpower request has been stored in our system. Please create the Job Description for this position.\n\nRequest Details:\nDepartment: {{ $json.fields.Department }}\nPosition: {{ $json.fields.Position_Title }}\nNumber of position: {{ $json.fields.Number_Of_Position }}\nExperience Required: {{ $json.fields.Experience_Required }}\n{{ $json.fields.Qualification }}\nSkills: {{ $json.fields.Skills }}\nSalary Range: {{ $json.fields.salary_range }}\nUrgency: {{ $json.fields.Urgency }} \n\nCreate comprehensive Job Description using our template.\nEnsure all JD standards are met (responsibilities, qualifications, skills.\nAdd transformation timeline (onboarding duration).\nSubmit JD for validation within 48 hours.","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[656,384],"id":"ad4642cc-80ae-4650-bf18-97004fe3d556","name":"Send email to HR for JD creation","webhookId":"e3654b77-913b-474f-8b2b-ca551dcd0b45"},{"parameters":{"promptType":"define","text":"=You are an HR expert. Generate a professional Job Description based on the details below.\n\nPosition: {{ $('store manpower request details').item.json.fields.Position_Title }}\nNumber of Positions: {{ $('store manpower request details').item.json.fields.Number_Of_Position }}\nSalary Range: {{ $('store manpower request details').item.json.fields.salary_range }}\n\n\nFormat the Job Description with these sections only:\n1. Job Title\n2. Location: Chennai/Ahmedabad\n3. Salary: Competitive\n4. Joining: {{ $('store manpower request details').item.json.fields.Urgency }}\n\n5. Company Brief:\nAt GMI, we're at the forefront of technology, pioneering innovative solutions that revolutionize businesses worldwide. Specializing in Data, AI/ML, Web 3.0, and IoT, we equip organizations to confidently embrace the ever-evolving digital landscape. Our commitment to excellence goes beyond technology, offering premium talent services to ensure a comprehensive approach to your growth journey.\n\n6. Job Requirements (2-3 sentences)\n\n7. Key Responsibilities (5-8 bullet points)\n\nGenerate only the Job Description. Do not add any introductory text, explanations, or closing remarks.\nInstead of Number add bullet points where needed.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[880,272],"id":"2a75d00f-a8c9-4e17-b3b5-7eb185862294","name":"AI Agent JD Creation"},{"parameters":{"promptType":"define","text":"=You are an Technical Head. Based on the provided job details, create a comprehensive practical test to evaluate candidates for this position.\n\nJob Details:\n- Position Title: {{ $json.fields['Position Title'] }}\n- Department: {{ $json.fields.Department }}\n- Required Qualification: {{ $json.fields.Qualification }}\n- Required Skills: {{ $json.fields.Skills }}\n- Experience Required: {{ $json.fields['Experience Required'] }}\n- Job Description: {{ $json.fields['JD Details'] }}\n\nYour Task:\nGenerate a practical test that includes:\n\n1. Test Overview (2-3 sentences)\n   - Brief description of what the test evaluates\n   - Expected duration to complete\n\n2. Technical Assessment(3-5 questions/tasks)\n   - Hands-on coding problems, case studies, or technical scenarios\n   - Directly related to the required skills\n   - Appropriate difficulty level based on experience required\n\n3. Problem-Solving Scenarios(2-3 scenarios)\n   - Real-world challenges they might face in this role\n   - Situation-based questions that test analytical thinking\n\n4. Skills Demonstration Task(1 major task)\n   - A comprehensive project or assignment\n   - Should take 2-4 hours to complete\n   - Must showcase all key skills mentioned\n\n5. Evaluation Criteria\n   - Clear rubric for scoring each section\n   - Key competencies to assess\n   - Pass/fail threshold\n\nGuidelines:\n- Make tests practical and job-relevant\n- Avoid theoretical questions unless necessary\n- Include clear instructions for each task\n- Specify any tools, frameworks, or resources candidates can use\n- Ensure the test is fair and unbiased\n- Match difficulty to the experience level required\n\nOutput Format:\nProvide the test in a structured, ready-to-send format that can be shared with candidates directly.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[1328,1440],"id":"fa8dce76-6dca-4e32-83ea-d468e9540981","name":"Practical test"},{"parameters":{"promptType":"define","text":"=You are an HR expert. Generate a professional Job Description based on the details below. You need to update the JD as per the given status: {{ $json.fields.Manager_CEO_Approval_On_JD }}\nPlease Must Refer abo ve status and generate JD.\n\nPosition: {{ $json.fields.Position_Title }}\nNumber of Positions: {{ $json.fields.Number_Of_Position }}\nExperience Required: {{ $json.fields.Experience_Required }}\nJoining: {{ $json.fields.Urgency }}\n\nFormat the Job Description with these sections only:\n1. Job Title\n2. Location: Chennai/Ahmedabad\n3. Salary: Competitive\n4. Joining: {{ $json.fields.Urgency }}\n\n5. Company Brief:\nAt GMI, we're at the forefront of technology, pioneering innovative solutions that revolutionize businesses worldwide. Specializing in Data, AI/ML, Web 3.0, and IoT, we equip organizations to confidently embrace the ever-evolving digital landscape. Our commitment to excellence goes beyond technology, offering premium talent services to ensure a comprehensive approach to your growth journey.\n\n6. Job Requirements (2-3 sentences)\n\n7. Key Responsibilities (5-8 bullet points)\n\nGenerate only the Job Description. Do not add any introductory text, explanations, or closing remarks.\nInstead of Number add bullet points where needed.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[1776,1008],"id":"eb30be70-0479-4a57-aeb6-ee05ed7123ec","name":"Update JD details"},{"parameters":{"jsCode":"const rawText = $input.item.json.output || '';\n\nconst cleanedText = rawText\n  .replace(/\\*\\*/g, '')\n  .replace(/\\*/g, '')\n  .replace(/##/g, '')\n  .replace(/\\n{3,}/g, '\\n\\n')\n  .trim();\n\nreturn {\n  json: {\n    text: cleanedText\n  }\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1232,384],"id":"9de7f9a5-ec2f-4dd0-a7f1-4fa3291a760e","name":"clean code"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"JD Validation","emailType":"text","message":"=Dear HR Team,\n\nPlease Refer this Generated JD details for given position {{ $('store manpower request details').item.json.fields['Position Title'] }}\n\nJD Details:\n\n{{ $json.text }}","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1456,384],"id":"50583898-6c9b-4f7a-8002-33ba9797678b","name":"send JD details to Manager CEO","webhookId":"d97ed35f-d11c-4333-819e-b2025bbd546e"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"Department":"={{ $json.Department }}","Qualification":"={{ $json.Qualification }}","Skills":"={{ $json.Skills }}","Urgency":"={{ $json.Urgency }}","Record_id":"={{ $json.Record_id }}","Number_Of_Position":"={{ $json.Number_Of_Position }}","Manager_Name":"={{ $json.Manager_Name }}","Manager_Email":"={{ $json.Manager_Email }}","Position_Title":"={{ $json.Position_Title }}","Experience_Required":"={{ $json.Experience_Required }}","JD_Details":"={{ $json.JD_Details }}","salary_range":"={{ $json.salary_range }}"},"matchingColumns":["Record_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"salary_range","displayName":"salary_range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1552,704],"id":"d062d122-c849-4f9a-ad8d-3d9130c1ef45","name":"store jd details"},{"parameters":{"jsCode":"return items.map(item => {\n  const output_text = item.json.output || item.json.text || '';\n\n  // Clean text safely (remove control chars too)\n  const cleanedText = String(output_text)\n    .replace(/[^\\x09\\x0A\\x0D\\x20-\\x7E]/g, '')\n    .trim();\n\n  // Default position name\n  let position_name = 'Position';\n\n  if (item.json.fields && item.json.fields[\"Position Title\"]) {\n    position_name = String(item.json.fields[\"Position Title\"])\n      .replace(/[^a-zA-Z0-9]/g, '')\n      .substring(0, 20)\n      .trim() || 'Position';\n  }\n\n  // Encode text to base64\n  const text_base64 = Buffer.from(cleanedText, 'utf8').toString('base64');\n\n  // Construct a safe filename\n  const filename = `${position_name}_Test.txt`;\n\n  return {\n    json: item.json,\n    binary: {\n      practical_test: {\n        data: text_base64,\n        mimeType: 'text/plain',\n        fileName: filename,\n        fileExtension: 'txt',\n      },\n    },\n  };\n});\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1680,1440],"id":"2c75708e-e3cc-4015-b1dc-b29e81177458","name":"clean code2"},{"parameters":{"inputDataFieldName":"practical_test","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1t0elIn8-h0nFAOvL5ilT32QuQEgs5va3","mode":"list","cachedResultName":"Practical_test","cachedResultUrl":"https://drive.google.com/drive/folders/1t0elIn8-h0nFAOvL5ilT32QuQEgs5va3"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[1904,1440],"id":"03a13a28-940a-4928-8bfd-66abd56fa593","name":"Upload practical test file"},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"options":{"binaryPropertyName":"practical_test"}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2128,1440],"id":"e4607c80-157a-455d-ad0a-8feecd50decc","name":"Download practical test file"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2352,1440],"id":"1f6d4124-4ce3-489f-9441-8e3e22ec3919","name":"Share practical test file"},{"parameters":{"jsCode":"// Get the current item's JSON data\nconst currentData = $input.first().json;\n\n// Get binary data from the Download file node\nconst downloadFileNodeData = $('Download practical test file').first();\n\n// Check if binary data exists\nif (!downloadFileNodeData.binary) {\n  throw new Error('No binary data found in Download file node');\n}\n\n// Get the binary data\nconst binaryData = downloadFileNodeData.binary;\n\n// Get the file ID from Upload file node to create Drive link\nconst uploadFileData = $('Upload practical test file').first().json;\nconst fileId = uploadFileData.id;\n\n// Create Google Drive link\nconst driveViewLink = `https://drive.google.com/file/d/${fileId}/view?usp=sharing`;\nconst driveDownloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;\n\nreturn {\n  json: {\n    ...currentData,\n    drive_link: driveViewLink,\n    drive_download_link: driveDownloadLink,\n    file_id: fileId\n  },\n  binary: binaryData\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2576,1568],"id":"27cc3577-879e-4349-9c91-27408a62ed39","name":"get practical test drive url"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Practical Test Confirmation","emailType":"text","message":"=Resptected Manager/CEO,\n\nPlease Refer below attached practical test file for position {{ $json.Position_Title }} confirm is it need to update?\n\npractical test file: {{ $json.practical_test_drive_link }}\n\nThanks\n\nRegards,\nHR Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[2800,1568],"id":"17b1f5c4-9bfa-4a64-9f76-a034eea52989","name":"Send practical test confirmation to manager","webhookId":"a6bed4ae-33f7-42a4-9916-bfea0ef7356d"},{"parameters":{"jsCode":"// Get input text safely (fallback to empty string)\nconst rawText = $input.item.json.output || $input.item.json.text || '';\n\n// Remove markdown formatting\nlet cleanedText = String(rawText);\ncleanedText = cleanedText.replaceAll('**', '');\ncleanedText = cleanedText.replaceAll('*', '');\ncleanedText = cleanedText.replaceAll('##', '');\n\n// Clean up multiple blank lines\nwhile (cleanedText.includes('\\n\\n\\n')) {\n  cleanedText = cleanedText.replace('\\n\\n\\n', '\\n\\n');\n}\n\n// Trim leading/trailing whitespace\ncleanedText = cleanedText.trim();\n\n// Return cleaned text\nreturn {\n  json: {\n    text: cleanedText\n  }\n};\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2128,1008],"id":"a48e90c7-7355-4d9a-8b06-b7eb9161da3d","name":"clean code1"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Updated JD Validation","emailType":"text","message":"=Dear HR Team,\n\nPlease Refer this Generated JD details for given position {{ $json.fields.Position_Title }}\n\nJD Details:\n\n{{ $json.fields.JD_Details }}","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[2576,1008],"id":"f5736cc8-588c-4aff-b57c-4811b24a9302","name":"send updated JD for approval","webhookId":"a4ee1b01-4668-4465-8a1a-6b76b0ea0891"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,2192],"id":"362f270c-6a73-48a2-951f-35bc1d7d2262","name":"Search records4"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[1104,2192],"id":"a9aa82a9-7028-4104-894c-8c6039289302","name":"Sort2"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"00cc9e6a-238a-4edf-b180-d71c7d7ed229","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[1328,2192],"id":"1f3ca692-5fac-4fc9-8314-6097d72f53a2","name":"Filter6"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"id":"={{ $json.id }}","Record_id":"={{ $json.Record_id }}","Practical_Test_Approval":"={{ $('Code in JavaScript2').item.json.extractedReply }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Salary Range","displayName":"Salary Range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1552,2192],"id":"2e33cb32-e387-4259-98e8-ae2ceffe2ef6","name":"Create or update a record2"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[1856,2304],"id":"7789c45a-8928-4da4-ab8e-92a3071067f5","name":"Google Gemini Chat Model6"},{"parameters":{"jsCode":"return items.map(item => {\n    const output_text = item.json.output || item.json.text || '';\n    \n    // Clean the text - remove ** and ## and trim\n    let cleanedText = output_text\n        .replace(/\\*\\*/g, '')  // Remove all **\n        .replace(/##/g, '')    // Remove all ##\n        .trim();\n    \n    let position_name = 'Position';\n    \n    if (item.json.fields && item.json.fields[\"Position Title\"]) {\n        position_name = item.json.fields[\"Position Title\"]\n            .toString()\n            .replace(/[^a-zA-Z0-9]/g, '')\n            .substring(0, 20) || 'Position';\n    }\n    \n    const text_base64 = Buffer.from(cleanedText, 'utf8').toString('base64');\n    \n    const filename = position_name + 'Test.txt';\n    \n    return {\n        json: item.json,\n        binary: {\n            practical_test: {\n                data: text_base64,\n                mimeType: 'text/plain',\n                fileName: filename,\n                fileExtension: 'txt'\n            }\n        }\n    };\n});"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2128,2192],"id":"ecf24bea-406d-40de-868d-8b32ddb909b0","name":"Code in JavaScript3"},{"parameters":{"inputDataFieldName":"practical_test","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1t0elIn8-h0nFAOvL5ilT32QuQEgs5va3","mode":"list","cachedResultName":"Practical_test","cachedResultUrl":"https://drive.google.com/drive/folders/1t0elIn8-h0nFAOvL5ilT32QuQEgs5va3"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2416,2192],"id":"d649596d-675e-472c-9f98-1b6619755035","name":"Upload file3"},{"parameters":{"operation":"download","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2704,2192],"id":"687429f9-1756-4714-bb71-2d3c51f6efdb","name":"Download file3"},{"parameters":{"operation":"share","fileId":{"__rl":true,"value":"={{ $json.id }}","mode":"id"},"permissionsUi":{"permissionsValues":{"role":"reader","type":"anyone"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2928,2192],"id":"61bd27b8-9ccd-4a2d-8a62-8785fedc8206","name":"Share file2"},{"parameters":{"jsCode":"// Get the current item's JSON data\nconst currentData = $input.first().json;\n\n// Get binary data from the Download file node\nconst downloadFileNodeData = $('Download file3').first();\n\n// Check if binary data exists\nif (!downloadFileNodeData.binary) {\n  throw new Error('No binary data found in Download file node');\n}\n\n// Get the binary data\nconst binaryData = downloadFileNodeData.binary;\n\n// Get the file ID from Upload file node to create Drive link\nconst uploadFileData = $('Upload file3').first().json;\nconst fileId = uploadFileData.id;\n\n// Create Google Drive link\nconst driveViewLink = `https://drive.google.com/file/d/${fileId}/view?usp=sharing`;\nconst driveDownloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;\n\nreturn {\n  json: {\n    ...currentData,\n    drive_link: driveViewLink,\n    drive_download_link: driveDownloadLink,\n    file_id: fileId\n  },\n  binary: binaryData\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[3152,2192],"id":"8f36b3d9-4e9f-4ba5-866b-74685f11f672","name":"get practical test drive url1"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"id":"={{ $('Create or update a record2').item.json.id }}","Record_id":"={{ $('Create or update a record2').item.json.fields.Record_id }}","practical_test_drive_link":"={{ $json.drive_link }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Salary Range","displayName":"Salary Range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[3376,2192],"id":"2db2fb14-7430-49a5-856f-daecb1ce1c71","name":"store practical test updated file"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Updated practical test","emailType":"text","message":"=Dear Respected sir,\n\nPlease Refer this Generated JD details for given position {{ $json.fields['Position Title'] }}\n\nPractical test file: {{ $json.fields['practical test drive link'] }}","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3600,2192],"id":"115bdb5f-6154-4953-a484-5a9a0188460e","name":"Send updated practical test for approval","webhookId":"a6e8a07c-d6d5-4052-b804-dce5bb459a41"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Job posting ","emailType":"text","message":"=Dear HR Team,\n\nI hope this email finds you well.\nI would like to request a job posting for the following position {{ $json.fields.Position_Title }}\n\nPosition Title: {{ $json.fields.Position_Title }}\nDepartment: {{ $json.fields.Department }}\nReporting To:{{ $json.fields.Manager_Name }} \nEmployment Type: Full-time\nLocation: Ahmedabad, Chennai\nNumber of Openings: {{ $json.fields.Number_Of_Position }}\nPriority Level: {{ $json.fields.Urgency }}\n\nI have attached the detailed Job Description for your reference.\nCould you please post this on our careers page and relevant job portals at your earliest convenience?\n\nThank you for your assistance.\n\nBest regards,\nTechnical Head","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[2128,1888],"id":"b0a9500e-3e29-4c8d-983e-97acdaf6a724","name":"Inform to hr for job posting","webhookId":"b6e191a7-aca4-4336-b434-c52086626874"},{"parameters":{"promptType":"define","text":"=You are an Technical Head. Based on the provided job details, create a comprehensive practical test to evaluate candidates for this position.  You need to update the JD as per the given status: {{ $json.fields['Practical Test Approval'] }}\nPlease Must Refer above status and generate JD.\n\n\nJob Details:\n- Position Title: {{ $json.fields['Position Title'] }}\n- Department: {{ $json.fields.Department }}\n- Required Qualification: {{ $json.fields.Qualification }}\n- Required Skills: {{ $json.fields.Skills }}\n- Experience Required: {{ $json.fields['Experience Required'] }}\n- Job Description: {{ $json.fields['JD Details'] }}\n\nYour Task:\nGenerate a practical test that includes:\n\n1. Test Overview (2-3 sentences)\n   - Brief description of what the test evaluates\n   - Expected duration to complete\n\n2. Technical Assessment(3-5 questions/tasks)\n   - Hands-on coding problems, case studies, or technical scenarios\n   - Directly related to the required skills\n   - Appropriate difficulty level based on experience required\n\n3. Problem-Solving Scenarios(2-3 scenarios)\n   - Real-world challenges they might face in this role\n   - Situation-based questions that test analytical thinking\n\n4. Skills Demonstration Task(1 major task)\n   - A comprehensive project or assignment\n   - Should take 2-4 hours to complete\n   - Must showcase all key skills mentioned\n\n5. Evaluation Criteria\n   - Clear rubric for scoring each section\n   - Key competencies to assess\n   - Pass/fail threshold\n\nGuidelines:\n- Make tests practical and job-relevant\n- Avoid theoretical questions unless necessary\n- Include clear instructions for each task\n- Specify any tools, frameworks, or resources candidates can use\n- Ensure the test is fair and unbiased\n- Match difficulty to the experience level required\n- do not add any extra words or anything just give proper practical test file.\n\nOutput Format:\nProvide the test in a structured, ready-to-send format that can be shared with candidates directly.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[1776,2080],"id":"8c32f80f-4204-4cf6-b677-db752df3e96d","name":"Update practical test generation"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[1840,704],"id":"b29b17c1-2a64-4d22-b9c0-543028fbb6e1","name":"No Operation, do nothing2"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"id":"={{ $('Update record').item.json.id }}","Record_id":"={{ $('Update record').item.json.fields.Record_id }}","JD_Details":"={{ $json.text }}"},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":true},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Salary Range","displayName":"Salary Range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[2352,1008],"id":"f20e2bd5-eff2-422a-bd96-29f7b4dafdb0","name":"Store updated JD"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[2800,1008],"id":"62c9f191-c3ba-4b16-a3cf-011fe60d073b","name":"No Operation, do nothing4"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"filters":{}},"type":"n8n-nodes-base.gmailTrigger","typeVersion":1.3,"position":[208,2032],"id":"22620734-20b8-404f-9342-f9f81019d62d","name":"Gmail Trigger1"},{"parameters":{"jsCode":"// n8n Code Node - Extract Only the Email Reply Text\nlet emailData;\ntry {\n  const input = $input.all()[0].json;\n  \n  // Check if input is an array\n  if (Array.isArray(input)) {\n    emailData = input[0];\n  } else {\n    emailData = input;\n  }\n} catch (e) {\n  return {\n    json: {\n      error: 'Could not parse email data',\n      details: e.message\n    }\n  };\n}\n\n// Function to extract just the reply text\nfunction extractReply(text) {\n  if (!text) return '';\n  \n  // Remove HTML entities\n  text = text.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&');\n  \n  // Find the \"On ... wrote:\" separator (with or without email addresses)\n  const patterns = [\n    /^(.*?)(?=On .+? wrote:)/is,\n    /^(.*?)(?=On .+? <.+?> wrote:)/is,\n    /^(.*?)(?=On .+?, .+? at .+? <.+?> wrote:)/is\n  ];\n  \n  for (const pattern of patterns) {\n    const match = text.match(pattern);\n    if (match && match[1].trim()) {\n      return match[1].trim();\n    }\n  }\n  \n  // If no quoted message found, return all text\n  return text.trim();\n}\n\n// Extract reply from snippet\nconst snippet = emailData?.snippet || '';\nconst replyText = extractReply(snippet);\n\nreturn {\n  json: {\n    id: emailData?.id,\n    threadId: emailData?.threadId,\n    subject: emailData?.Subject,\n    from: emailData?.From,\n    to: emailData?.To,\n    replyText: replyText,\n    originalSnippet: snippet\n  }\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[432,2032],"id":"3dd1ffb0-9a3c-4316-8d34-5d6ba8bc32f8","name":"Code in JavaScript2"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"40737c86-2948-4145-adc5-66b013f9ef40","leftValue":"={{ ['approved', 'approve', 'yes', 'accept', 'ok'].some(word => ($json.replyText || '').toLowerCase().includes(word)) }}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[656,2032],"id":"c1f67c4d-2981-4ea9-9bc5-edd0f05ddd8c","name":"If3"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"columns":{"mappingMode":"defineBelow","value":{"Record_id":0,"id":"={{ $json.id }}","Manager_Name":"={{ $json.Manager_Name }}","Manager_Email":"={{ $json.Manager_Email }}","Department":"={{ $json.Department }}","Position_Title":"={{ $json.Position_Title }}","Number_Of_Position":"={{ $json.Number_Of_Position }}","Experience_Required":"={{ $json.Experience_Required }}","Qualification":"={{ $json.Qualification }}","Skills":"={{ $json.Skills }}","salary_range":"={{ $json.salary_range }}","Urgency":"={{ $json.Urgency }}","JD_Details":"={{ $json.JD_Details }}","practical_test_drive_link":"={{ $json.practical_test_drive_link }}"},"matchingColumns":["id","Record_id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Record_id","displayName":"Record_id","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Manager_Name","displayName":"Manager_Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_Email","displayName":"Manager_Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Department","displayName":"Department","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Position_Title","displayName":"Position_Title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Number_Of_Position","displayName":"Number_Of_Position","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Experience_Required","displayName":"Experience_Required","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Qualification","displayName":"Qualification","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Skills","displayName":"Skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"salary_range","displayName":"salary_range","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"Urgency","displayName":"Urgency","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"JD_Details","displayName":"JD_Details","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Manager_CEO_Approval_On_JD","displayName":"Manager_CEO_Approval_On_JD","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Practical_Test_Approval","displayName":"Practical_Test_Approval","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"practical_test_drive_link","displayName":"practical_test_drive_link","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1552,1888],"id":"68315e91-8a0a-421a-a30a-4af9b40baa3f","name":"store_practical_test_link"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,704],"id":"49a0acf8-f2cc-4ca0-8173-a83b6b090c48","name":"Search records5"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[1104,704],"id":"3020d3d3-6cbb-4f13-a393-379b3b0622df","name":"Sort3"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"c16384a7-c933-47fe-afb9-e405e5e7187f","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[1328,704],"id":"d0a52ae3-f941-402b-8836-1ac5f8fc3d8f","name":"Filter7"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[3024,1568],"id":"d5a11328-36e7-4d71-b2fc-a33330521380","name":"No Operation, do nothing6"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[3824,2192],"id":"e8dc309a-88a1-46ce-a7e2-ff337f2d37f8","name":"No Operation, do nothing7"},{"parameters":{"amount":2},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[1840,1888],"id":"3afd497b-3d36-49fd-9af7-29367b3de22f","name":"Wait2","webhookId":"d3cfe268-f494-4770-8d09-6d7917c3e275"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[1104,1888],"id":"ce3b047f-33b8-4f51-a3cf-96b7a91a84d2","name":"Sort4"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"1c7f31dc-8c25-41ad-879e-6db40c5fd517","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[1328,1888],"id":"7021d81d-7475-467e-a4d1-93a59cc47380","name":"Filter8"},{"parameters":{"person":"KG9HJM8zES","text":"={{ $json.text }}","additionalFields":{"visibility":"PUBLIC"}},"type":"n8n-nodes-base.linkedIn","typeVersion":1,"position":[2928,1888],"id":"6fec1578-383d-4b4e-953a-c55b1996197b","name":"Create a post"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,1888],"id":"1bf0af27-24e4-4ecc-8cb5-a4e55bb5259f","name":"Search records10"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[2432,2016],"id":"499067fb-e547-4cf4-9443-83139cbd31b4","name":"Google Gemini Chat Model7"},{"parameters":{"promptType":"define","text":"=Generate linkedin Job post for given details:\n\nJob Details: {{ $('store_practical_test_link').item.json.fields.JD_Details }}\n\nSend your resume at given below email.\nEmail: gmi.gj.dev.gajjardmk@gmail.com\n\nNote:-\nAdd related Emoji so it looks attractive.\n\nDo not add any extra sentence like here is the linkdedin post or anything like that.\n\nOnly generate post in given format don't add anything extra.\n\nMake sure gmail link is proper it should directly opens up.","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[2352,1792],"id":"83f46f9c-0280-4eb8-803f-bc3e0c65e484","name":"job_post_generation"},{"parameters":{"jsCode":"// Get input text safely (fallback to empty string)\nconst rawText = $input.item.json.output || $input.item.json.text || '';\n\n// Remove markdown formatting\nlet cleanedText = String(rawText);\ncleanedText = cleanedText.replaceAll('**', '');\ncleanedText = cleanedText.replaceAll('*', '');\ncleanedText = cleanedText.replaceAll('##', '');\n\n// Clean up multiple blank lines\nwhile (cleanedText.includes('\\n\\n\\n')) {\n  cleanedText = cleanedText.replace('\\n\\n\\n', '\\n\\n');\n}\n\n// Trim leading/trailing whitespace\ncleanedText = cleanedText.trim();\n\n// Return cleaned text\nreturn {\n  json: {\n    text: cleanedText\n  }\n};\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2704,1888],"id":"e96ea273-29dc-4a06-8356-543ad75de5ab","name":"Code in JavaScript4"},{"parameters":{"method":"POST","url":"=https://candidate-document-ocr-app-latest.onrender.com/extract","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"api_key","value":"AIzaSyAEj6qcXTuFxHsfrgV2q-b5UuwxBAFKXVU"},{"name":"model_name","value":"models/gemini-2.5-flash"},{"name":"output_structure","value":"=json"},{"parameterType":"formBinaryData","name":"pdf_file","inputDataFieldName":"=attachment_0"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[656,2624],"id":"bbc892f3-b088-4381-ad78-6153669cfe3e","name":"extract_resume"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appRnRAGhs1YfF7VI","mode":"list","cachedResultName":"applied_candidate_resume_data","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI"},"table":{"__rl":true,"value":"tblKHHmmBPPhoRfiA","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI/tblKHHmmBPPhoRfiA"},"columns":{"mappingMode":"defineBelow","value":{"Email":"={{ $json.email }}","Name":"={{ $json.name }}","phone_number":"={{ $json.phone }}","linkedin":"={{ $json.linkedin }}","work_experience":"={{ $json.work_experience }}","education":"={{ $json.education }}","skills":"={{ $json.skills }}","certificates":"={{ $json.certificates }}","project":"={{ $json.projects }}"},"matchingColumns":["Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"Email","displayName":"Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Name","displayName":"Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"phone_number","displayName":"phone_number","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"linkedin","displayName":"linkedin","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"work_experience","displayName":"work_experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"education","displayName":"education","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"skills","displayName":"skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"certificates","displayName":"certificates","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"project","displayName":"project","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1104,2624],"id":"be9ca7a9-cb9b-49b1-9a22-0b5aeb0baa96","name":"store_resume_data"},{"parameters":{"jsCode":"// Universal Resume Parser for Airtable\n// Handles ANY resume structure dynamically\n\nconst data = $input.item.json.data || $input.item.json;\n\n// Universal safe access function\nfunction safeGet(obj, path, defaultValue = '') {\n  try {\n    const value = path.split('.').reduce((acc, part) => acc?.[part], obj);\n    return value !== undefined && value !== null ? value : defaultValue;\n  } catch {\n    return defaultValue;\n  }\n}\n\n// Universal array/object to text converter\nfunction toReadableText(data, prefix = '') {\n  if (!data) return 'N/A';\n  \n  // If it's already a string, return it\n  if (typeof data === 'string') return data;\n  \n  // If it's a simple value\n  if (typeof data !== 'object') return String(data);\n  \n  // If it's an array\n  if (Array.isArray(data)) {\n    if (data.length === 0) return 'None';\n    \n    // If array of strings/numbers, join them\n    if (typeof data[0] !== 'object') {\n      return data.join(', ');\n    }\n    \n    // If array of objects, format each\n    return data.map((item, index) => {\n      const itemText = Object.entries(item)\n        .map(([key, value]) => {\n          const label = key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n          if (Array.isArray(value)) {\n            return `${label}: ${value.join('; ')}`;\n          }\n          return `${label}: ${value}`;\n        })\n        .join('\\n');\n      return `${prefix}${index + 1}.\\n${itemText}\\n${''.repeat(40)}`;\n    }).join('\\n\\n');\n  }\n  \n  // If it's an object\n  return Object.entries(data)\n    .filter(([_, value]) => value !== null && value !== undefined)\n    .map(([key, value]) => {\n      const label = key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      if (Array.isArray(value)) {\n        return `${label}:\\n${value.join(', ')}`;\n      }\n      if (typeof value === 'object') {\n        return `${label}:\\n${toReadableText(value, '  ')}`;\n      }\n      return `${label}: ${value}`;\n    })\n    .join('\\n');\n}\n\n// Extract personal information with multiple possible field names\nfunction extractPersonalInfo(data) {\n  const possibleLocations = [\n    'personal_information',\n    'personalInfo',\n    'contact',\n    'contactInfo',\n    'contact_information',\n    'profile',\n    'basic_info'\n  ];\n  \n  let personalInfo = null;\n  for (const loc of possibleLocations) {\n    if (data[loc]) {\n      personalInfo = data[loc];\n      break;\n    }\n  }\n  \n  // If not found in nested object, check root level\n  if (!personalInfo) personalInfo = data;\n  \n  return {\n    name: safeGet(personalInfo, 'name') || \n          safeGet(personalInfo, 'full_name') || \n          safeGet(personalInfo, 'fullName') || \n          safeGet(data, 'name') ||\n          'Unknown',\n    \n    email: safeGet(personalInfo, 'email') || \n           safeGet(data, 'email') ||\n           `resume_${Date.now()}@placeholder.com`,\n    \n    phone: safeGet(personalInfo, 'phone') || \n           safeGet(personalInfo, 'mobile') || \n           safeGet(personalInfo, 'contact_number') ||\n           safeGet(data, 'phone') ||\n           'N/A',\n    \n    linkedin: safeGet(personalInfo, 'linkedin') || \n              safeGet(personalInfo, 'linkedIn') || \n              safeGet(personalInfo, 'linkedin_url') ||\n              safeGet(data, 'linkedin') ||\n              '',\n    \n    location: safeGet(personalInfo, 'location') || \n              safeGet(personalInfo, 'address') || \n              safeGet(personalInfo, 'city') ||\n              safeGet(data, 'location') ||\n              'N/A'\n  };\n}\n\n// Extract work experience with flexible field names\nfunction extractWorkExperience(data) {\n  const possibleFields = [\n    'work_experience',\n    'workExperience',\n    'experience',\n    'employment',\n    'employment_history',\n    'work_history',\n    'professional_experience',\n    'jobs'\n  ];\n  \n  for (const field of possibleFields) {\n    if (data[field]) {\n      return toReadableText(data[field], 'Experience ');\n    }\n  }\n  \n  return 'No work experience found';\n}\n\n// Extract education with flexible field names\nfunction extractEducation(data) {\n  const possibleFields = [\n    'education',\n    'academic_background',\n    'academics',\n    'educational_background',\n    'qualifications'\n  ];\n  \n  for (const field of possibleFields) {\n    if (data[field]) {\n      return toReadableText(data[field], 'Education ');\n    }\n  }\n  \n  return 'No education data found';\n}\n\n// Extract skills with flexible structure\nfunction extractSkills(data) {\n  const possibleFields = [\n    'skills',\n    'technical_skills',\n    'competencies',\n    'expertise',\n    'technologies'\n  ];\n  \n  for (const field of possibleFields) {\n    if (data[field]) {\n      return toReadableText(data[field]);\n    }\n  }\n  \n  return 'No skills listed';\n}\n\n// Extract certifications/certificates\nfunction extractCertificates(data) {\n  const possiblePaths = [\n    'certifications',\n    'certificates',\n    'skills.certifications',\n    'skills.certificates',\n    'professional_certifications',\n    'licenses_and_certifications'\n  ];\n  \n  for (const path of possiblePaths) {\n    const certs = safeGet(data, path, null);\n    if (certs) {\n      return toReadableText(certs);\n    }\n  }\n  \n  return 'No certifications';\n}\n\n// Extract projects (if exists)\nfunction extractProjects(data) {\n  const possibleFields = [\n    'projects',\n    'project_experience',\n    'projects_contributed',\n    'key_projects',\n    'portfolio'\n  ];\n  \n  for (const field of possibleFields) {\n    if (data[field]) {\n      return toReadableText(data[field], 'Project ');\n    }\n  }\n  \n  return null; // Return null if no projects\n}\n\n// Extract achievements/awards (if exists)\nfunction extractAchievements(data) {\n  const possibleFields = [\n    'achievements',\n    'awards',\n    'honors',\n    'recognition',\n    'accomplishments'\n  ];\n  \n  for (const field of possibleFields) {\n    if (data[field]) {\n      return toReadableText(data[field]);\n    }\n  }\n  \n  return null;\n}\n\n// Extract languages (if exists)\nfunction extractLanguages(data) {\n  const possibleFields = [\n    'languages',\n    'language_proficiency',\n    'spoken_languages'\n  ];\n  \n  for (const field of possibleFields) {\n    if (data[field]) {\n      return toReadableText(data[field]);\n    }\n  }\n  \n  return null;\n}\n\n// Main extraction\nconst personalInfo = extractPersonalInfo(data);\n\n// Build output object with only fields that have data\nconst output = {\n  email: personalInfo.email,\n  name: personalInfo.name,\n  phone: personalInfo.phone,\n  linkedin: personalInfo.linkedin,\n  location: personalInfo.location,\n  work_experience: extractWorkExperience(data),\n  education: extractEducation(data),\n  skills: extractSkills(data),\n  certificates: extractCertificates(data),\n  application_date: new Date().toISOString().split('T')[0],\n  status: 'New',\n  source: 'Resume Upload'\n};\n\n// Add optional fields only if they exist\nconst projects = extractProjects(data);\nif (projects) output.projects = projects;\n\nconst achievements = extractAchievements(data);\nif (achievements) output.achievements = achievements;\n\nconst languages = extractLanguages(data);\nif (languages) output.languages = languages;\n\n// Store complete raw JSON as backup\noutput.raw_resume_data = JSON.stringify(data, null, 2);\n\nreturn { json: output };"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[880,2624],"id":"aecbc2c1-ecf9-4da6-861c-339580219dac","name":"Code in JavaScript5"},{"parameters":{"promptType":"define","text":"=You are an expert HR analyst evaluating a job candidate for a Senior Software Engineer position.\n\nINCLUDE CANDIDATE INFORMATION:\nName: {{ $('store_resume_data').item.json.fields.Name }}\nEmail: {{ $('store_resume_data').item.json.fields.Email }}\n\n---\n\nWHAT THE CANDIDATE CLAIMS (Written in Form):\n\nSkills Claimed: {{ $('store_resume_data').item.json.fields.skills }}\nJob History Claimed: {{ $('store_resume_data').item.json.fields.work_experience }}\n\n---\n\nYOUR EVALUATION TASK:\n\n1. JOB FIT ANALYSIS:\n   - Evaluate against these requirements:\n     * Bachelor's in CS/Engineering/IT or any computer fields.\n     * database design skills\n     * Any AI knowledge.\n     * Position: {{ $json.Position_Title }}\n   - Calculate job fit score (1-100)\n\n2. FINAL SCORE CALCULATION:\n   - Final Score = (Consistency Score  0.40) + (Job Fit Score  0.60)\n   - Score range: 1-100\n\nOUTPUT FORMAT (STRICT JSON ONLY):\n```json\n{\n  \"candidate_name\":\"give candidate name\",\n  \"candidate_email\":\"give candidate email\",\n  \"consistency_score\": 85,\n  \"job_fit_score\": 70,\n  \"final_score\": 76,\n  \"educational_qualification\": \"Brief summary from CV\",\n  \"job_history_summary\": \"Brief summary from CV\",\n  \"skill_set_summary\": \"Brief summary from CV\",\n  \"justification\": \"Why this final score? Focus on comparison results and job fit.\"\n}\n```","options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[2000,2512],"id":"b43b8c63-8ef7-473d-b7a5-7ca2836961cd","name":"AI Resume Scoring"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[2080,2736],"id":"49a15fc6-bd31-4ef5-923a-5ee607e127d0","name":"Google Gemini Chat Model8"},{"parameters":{"jsCode":"// Get AI output (only one input expected)\nconst item = $input.item.json;\nlet aiOutput = {};\n\n// Extract candidate info from input data (resume/application)\nlet candidateName = \"Not found\";\nlet candidateEmail = \"Not found\";\n\n// Try to get candidate info from the input item\nif (item.candidate_name) {\n  candidateName = item.candidate_name;\n}\nif (item.candidate_email) {\n  candidateEmail = item.candidate_email;\n}\nif (item.name) {\n  candidateName = item.name;\n}\nif (item.email) {\n  candidateEmail = item.email;\n}\n\n// Also try to extract from the original input text if available\nif (item.input || item.resume_text) {\n  const inputText = item.input || item.resume_text || \"\";\n  \n  // Extract email using regex\n  const emailRegex = /[\\w.-]+@[\\w.-]+\\.\\w+/;\n  const emailMatch = inputText.match(emailRegex);\n  if (emailMatch && candidateEmail === \"Not found\") {\n    candidateEmail = emailMatch[0];\n  }\n  \n  // Extract name (usually at the beginning of resume)\n  const nameRegex = /^([A-Z][a-z]+(?: [A-Z][a-z]+)+)/m;\n  const nameMatch = inputText.match(nameRegex);\n  if (nameMatch && candidateName === \"Not found\") {\n    candidateName = nameMatch[1];\n  }\n}\n\ntry {\n  const text = item.output || \"\";\n  \n  // Extract JSON from markdown code blocks or fallback to plain JSON\n  const jsonMatch =\n    text.match(/```json\\s*([\\s\\S]*?)```/) ||\n    text.match(/```\\s*([\\s\\S]*?)```/) ||\n    [null, text];\n  \n  aiOutput = JSON.parse(jsonMatch[1] || jsonMatch[0]);\n  \n  // Override with AI extracted values if available\n  if (aiOutput.candidate_name) {\n    candidateName = aiOutput.candidate_name;\n  }\n  if (aiOutput.candidate_email) {\n    candidateEmail = aiOutput.candidate_email;\n  }\n} catch (e) {\n  // Fallback: parse manually if JSON parsing fails\n  const text = item.output || \"\";\n  \n  const finalScoreMatch = text.match(/\"final_score\"\\s*:\\s*(\\d+)/);\n  const consistencyMatch = text.match(/\"consistency_score\"\\s*:\\s*(\\d+)/);\n  const fitMatch = text.match(/\"job_fit_score\"\\s*:\\s*(\\d+)/);\n  const nameMatch = text.match(/\"candidate_name\"\\s*:\\s*\"([^\"]+)\"/);\n  const emailMatch = text.match(/\"candidate_email\"\\s*:\\s*\"([^\"]+)\"/);\n  \n  if (nameMatch && candidateName === \"Not found\") {\n    candidateName = nameMatch[1];\n  }\n  if (emailMatch && candidateEmail === \"Not found\") {\n    candidateEmail = emailMatch[1];\n  }\n  \n  aiOutput = {\n    final_score: finalScoreMatch ? parseInt(finalScoreMatch[1]) : 0,\n    consistency_score: consistencyMatch ? parseInt(consistencyMatch[1]) : 0,\n    job_fit_score: fitMatch ? parseInt(fitMatch[1]) : 0,\n    educational_qualification: \"Parse error\",\n    job_history_summary: \"Parse error\",\n    skill_set_summary: \"Parse error\",\n    consistency_analysis: \"Parse error: \" + e.message,\n    justification: \"Parse error\",\n  };\n}\n\n// Return AI parsed data with candidate info\nreturn [\n  {\n    json: {\n      // Candidate Information\n      candidate_name: candidateName,\n      candidate_email: candidateEmail,\n      \n      // Scores\n      consistency_score: aiOutput.consistency_score || 0,\n      job_fit_score: aiOutput.job_fit_score || 0,\n      final_score: aiOutput.final_score || 0,\n      \n      // Detailed Analysis\n      educational_qualification: aiOutput.educational_qualification || \"\",\n      job_history_summary: aiOutput.job_history_summary || \"\",\n      skill_set_summary: aiOutput.skill_set_summary || \"\",\n      consistency_analysis: aiOutput.consistency_analysis || \"\",\n      justification: aiOutput.justification || \"\",\n    },\n  },\n];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2352,2624],"id":"94ead57b-2a35-4415-abfb-bafbb40320e0","name":"parse AI Result"},{"parameters":{"jsCode":"// Get parsed AI results\nconst item = $input.item.json;\n\n// Convert to desired table-like format\nreturn [\n  {\n    json: {\n      Candidate: item.candidate_name || \"Unknown\",\n      Candidate_email: item.candidate_email || \"Unknown\",\n      \"CV Match\": item.job_fit_score || 0,\n      \"Final Score\": item.final_score || 0,\n    },\n  },\n];\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[2576,2624],"id":"4f7bc90e-d91a-4004-a81f-c17d78ab2aad","name":"Getting Score"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appRnRAGhs1YfF7VI","mode":"list","cachedResultName":"applied_candidate_resume_data","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI"},"table":{"__rl":true,"value":"tblKHHmmBPPhoRfiA","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI/tblKHHmmBPPhoRfiA"},"columns":{"mappingMode":"defineBelow","value":{"Email":"={{ $('store_resume_data').item.json.fields.Email }}","resume_score":"={{ $json[\"Final Score\"] }}","position_title":"={{ $('Filter').item.json.Position_Title }}"},"matchingColumns":["Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"Email","displayName":"Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Name","displayName":"Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"phone_number","displayName":"phone_number","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"linkedin","displayName":"linkedin","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"work_experience","displayName":"work_experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"education","displayName":"education","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"skills","displayName":"skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"certificates","displayName":"certificates","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"project","displayName":"project","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":true},{"id":"resume_score","displayName":"resume_score","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"position_title","displayName":"position_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[2800,2624],"id":"2fb4f254-f25e-4000-8414-a7f85195f283","name":"Store Resume Score"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"app9sVMp8jFNwDaNq","mode":"list","cachedResultName":"Raise_manpower_request","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq"},"table":{"__rl":true,"value":"tblHw3rrlNpdOeP5E","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/app9sVMp8jFNwDaNq/tblHw3rrlNpdOeP5E"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1328,2624],"id":"98f06b36-e78d-46af-bd62-0d7e6f1422e4","name":"Search records11"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[1552,2624],"id":"80e26a43-3fe8-4727-81ca-c715171df692","name":"Sort5"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"a50ce361-1ead-4e1f-b27a-bf73a286059f","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[1776,2624],"id":"e9f9df6b-a8df-4c3a-9c85-450e66e39bc8","name":"Filter"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"517d2131-c581-402c-a0fc-a82cde702ad7","leftValue":"={{ $json.fields.position_title }}","rightValue":"","operator":{"type":"string","operation":"exists","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[3024,2624],"id":"cea8750f-2fc5-44cb-8e39-03414445ad86","name":"Filter1"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"3b125534-69f2-4407-9a77-b6ba074ab7af","leftValue":"={{ $json.fields.resume_score }}","rightValue":40,"operator":{"type":"number","operation":"gt"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[3248,2624],"id":"07234d19-a145-4f98-8685-840ed819b282","name":"If4"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Candidate Resume Rejection","emailType":"text","message":"=Dear HR Team,\n\nI hope youre doing well.\n\nAfter reviewing the resume of {{ $json.fields.Name }} for the {{ $json.fields.position_title }} role, we have decided not to proceed with this candidate at this stage. The profile does not fully align with our current requirements.\n\nPlease update the records accordingly and inform the candidate as per our standard process.\n\nThank you for your assistance.\n\nRegards,\nGMIndia Automation Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3472,2720],"id":"42e83b5e-b040-4d43-a7ff-72bc575fb6f9","name":"Send Mail to HR On Resume Rejection","webhookId":"a500328d-3acd-4ee2-ae37-b69f25ebce7c"},{"parameters":{"sendTo":"={{ $('If4').item.json.fields.Email }}","subject":"Resume Rejection","emailType":"text","message":"=Dear {{ $('If4').item.json.fields.Name }},\n\nThank you for taking the time to apply for the {{ $('If4').item.json.fields.position_title }} position at GMIndia pvt.ltd and for your interest in joining our team.\n\nAfter careful consideration, we regret to inform you that we will not be moving forward with your application at this time. We received many strong applications, and the selection process was highly competitive.\n\nWe appreciate the effort you put into your application and wish you the very best in your job search and future career endeavors.\n\nThank You\n\nRegards,\nHR Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3696,2720],"id":"2a2e0c8e-262f-4ece-bf1f-364065d23f80","name":"Send Mail to Candidate On Resume Rejection","webhookId":"d2cf3fdf-b741-40d0-b2de-67ad61567b52"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[3920,2720],"id":"02bf0672-cd3b-4f2b-8634-e8289a5bb923","name":"No Operation, do nothing5"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"=Candidate Resume Shortlisted for {{ $json.fields.position_title }}","emailType":"text","message":"=Dear HR Team,\n\nI hope youre doing well.\n\nAfter reviewing the resume of {{ $json.fields.Name }} for the {{ $json.fields.position_title }} role, we are pleased to inform you that the candidate has been shortlisted for the next stage of the selection process.\n\nKindly proceed with the necessary next steps, such as scheduling the interview and coordinating with the candidate.\n\nThank you for your support and assistance.\n\nBest regards,\nGMIndia Automation Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3472,2528],"id":"60eef951-4709-4fcb-bccd-73b5fc72c789","name":"Send Mail to HR On Resume Selecion","webhookId":"088f6bf5-f6cb-43ff-aa71-98e56043e2c6"},{"parameters":{"sendTo":"={{ $('If4').item.json.fields.Email }}","subject":"=Resume Shortlisted for {{ $('If4').item.json.fields.position_title }}","emailType":"text","message":"=Dear {{ $('If4').item.json.fields.Name }},\n\nThank you for applying for the {{ $('If4').item.json.fields.position_title }} position at GMIndia pvt.ltd.\n\nWe are pleased to inform you that your resume has been shortlisted for further evaluation. Our HR team will contact you shortly to schedule the next steps in the recruitment process.\n\nWe appreciate your interest in joining our team and look forward to speaking with you soon.\n\nBest regards,\nHR Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[3696,2528],"id":"35de53a3-c84b-4984-934f-6334968782b5","name":"Send Mail to Candidate On Resume Approval","webhookId":"23fa5cbd-1615-487e-8f53-42948b55f47a"},{"parameters":{"amount":1,"unit":"minutes"},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[3920,2528],"id":"4ef9db8f-11a2-49fe-928a-5d51c9d37506","name":"Wait3","webhookId":"5a734300-cbd9-4652-9a33-c56fbbb578ea"},{"parameters":{"sendTo":"={{ $('If4').item.json.fields.Email }}","subject":"Practical Test","emailType":"text","message":"=Dear {{ $('If4').item.json.fields.Name }},\n\nThank you for your interest in the {{ $('If4').item.json.fields.position_title }} position at GMIndia pvt.ltd.\n\nAs part of our recruitment process, we would like you to complete a practical assessment  to help us better understand your skills and suitability for the role.\n\nPlease find the attached test document. Kindly complete the task and submit your completed work within 24 hours of receiving this email by replying directly to this thread or sending it to [HR/recruitment email address].\n\nPractical Test file:{{$('Filter').item.json.practical_test_drive_link }}\n\nIf you have any questions or face any issues accessing the file, please let us know as soon as possible.\n\nAt this point if you are ready for further process then continue with your practical test and submit as per the timeline. If you don't want to proceed further just reply this thread.\n\nWe appreciate your time and effort and look forward to reviewing your submission.\n\nBest regards,\nHR Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[4144,2528],"id":"c6260d38-bbf4-42d4-a187-a59b37a5a129","name":"Send Practical Test To Candidate","webhookId":"56af6b70-5712-4dcc-905b-d1a14db80d86"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[4368,2528],"id":"9f982798-3a3f-42a6-ae9b-36eaef55ae3a","name":"No Operation, do nothing8"},{"parameters":{"jsCode":"// n8n Code Node - Extract Only the Email Reply Text\nlet emailData;\ntry {\n  const input = $input.all()[0].json;\n  \n  // Check if input is an array\n  if (Array.isArray(input)) {\n    emailData = input[0];\n  } else {\n    emailData = input;\n  }\n} catch (e) {\n  return {\n    json: {\n      error: 'Could not parse email data',\n      details: e.message\n    }\n  };\n}\n\n// Function to extract just the reply text\nfunction extractReply(text) {\n  if (!text) return '';\n  \n  // Remove HTML entities\n  text = text.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&');\n  \n  // Find the \"On ... wrote:\" separator (with or without email addresses)\n  const patterns = [\n    /^(.*?)(?=On .+? wrote:)/is,\n    /^(.*?)(?=On .+? <.+?> wrote:)/is,\n    /^(.*?)(?=On .+?, .+? at .+? <.+?> wrote:)/is\n  ];\n  \n  for (const pattern of patterns) {\n    const match = text.match(pattern);\n    if (match && match[1].trim()) {\n      return match[1].trim();\n    }\n  }\n  \n  // If no quoted message found, return all text\n  return text.trim();\n}\n\n// Extract reply from snippet\nconst snippet = emailData?.snippet || '';\nconst replyText = extractReply(snippet);\n\nreturn {\n  json: {\n    id: emailData?.id,\n    threadId: emailData?.threadId,\n    subject: emailData?.Subject,\n    from: emailData?.From,\n    to: emailData?.To,\n    replyText: replyText,\n    originalSnippet: snippet\n  }\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[432,3040],"id":"fcc87827-c23a-470b-ac9c-db6ea7078c45","name":"Code in JavaScript6"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"c2aaec2d-a52c-41c5-8209-6a87a1c677b9","leftValue":"={{ ['approved', 'approve', 'yes', 'accept', 'ok'].some(word => ($json.replyText || '').toLowerCase().includes(word)) }}","rightValue":"","operator":{"type":"boolean","operation":"true","singleValue":true}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[656,3040],"id":"c7de1a70-f4b2-4024-8d8b-ad82dcb53ccd","name":"If5"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appRnRAGhs1YfF7VI","mode":"list","cachedResultName":"applied_candidate_resume_data","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI"},"table":{"__rl":true,"value":"tblKHHmmBPPhoRfiA","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI/tblKHHmmBPPhoRfiA"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,2944],"id":"3a006ee2-e38e-4e24-8dfe-934b74b138ea","name":"Search records12"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[3152,1888],"id":"3a465e2e-fbb6-4bda-b691-ce5f4ce5b622","name":"No Operation, do nothing9"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[1104,2944],"id":"37f7bc94-f1e1-4ef7-838f-1b121afcd56a","name":"Sort6"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"66966817-1072-4233-a3a7-6bd68f27a389","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"number","operation":"equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[1328,2944],"id":"4f409c1a-78d5-4931-b425-8e08ce8d3a45","name":"Filter2"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appRnRAGhs1YfF7VI","mode":"list","cachedResultName":"applied_candidate_resume_data","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI"},"table":{"__rl":true,"value":"tblKHHmmBPPhoRfiA","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI/tblKHHmmBPPhoRfiA"},"columns":{"mappingMode":"defineBelow","value":{"Name":"={{ $json.Name }}","Email":"={{ $json.Email }}","phone_number":"={{ $json.phone_number }}","linkedin":"={{ $json.linkedin }}","work_experience":"={{ $json.work_experience }}","education":"={{ $json.education }}","skills":"={{ $json.skills }}","certificates":"={{ $json.certificates }}","project":"={{ $json.project }}","resume_score":"={{ $json.resume_score }}","position_title":"={{ $json.position_title }}","candidate_practical_process":"={{ $('Code in JavaScript6').item.json.replyText }}"},"matchingColumns":["Email"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":true},{"id":"Email","displayName":"Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Name","displayName":"Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"phone_number","displayName":"phone_number","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"linkedin","displayName":"linkedin","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"work_experience","displayName":"work_experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"education","displayName":"education","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"skills","displayName":"skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"certificates","displayName":"certificates","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"project","displayName":"project","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"resume_score","displayName":"resume_score","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"position_title","displayName":"position_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_practical_process","displayName":"candidate_practical_process","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1552,2944],"id":"e6f5695f-15cc-4d65-972f-2ceb21b195e4","name":"Store candidate process reply"},{"parameters":{"operation":"search","base":{"__rl":true,"value":"appRnRAGhs1YfF7VI","mode":"list","cachedResultName":"applied_candidate_resume_data","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI"},"table":{"__rl":true,"value":"tblKHHmmBPPhoRfiA","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI/tblKHHmmBPPhoRfiA"},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[880,3136],"id":"15226b0e-8432-40b1-b28b-5d99601da740","name":"Search records13"},{"parameters":{"sortFieldsUi":{"sortField":[{"fieldName":"createdTime","order":"descending"}]},"options":{}},"type":"n8n-nodes-base.sort","typeVersion":1,"position":[1104,3136],"id":"5b3b384c-183c-4b0d-8e5b-9fab55066d3c","name":"Sort7"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"06d27e6d-0d41-46a3-a2ca-f8f1420d5c04","leftValue":"={{ $itemIndex }}","rightValue":"={{ 0 }}","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[1328,3136],"id":"b23ba2e9-409a-42dc-8ce6-e148f0f5f946","name":"Filter9"},{"parameters":{"operation":"upsert","base":{"__rl":true,"value":"appRnRAGhs1YfF7VI","mode":"list","cachedResultName":"applied_candidate_resume_data","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI"},"table":{"__rl":true,"value":"tblKHHmmBPPhoRfiA","mode":"list","cachedResultName":"Table 1","cachedResultUrl":"https://airtable.com/appRnRAGhs1YfF7VI/tblKHHmmBPPhoRfiA"},"columns":{"mappingMode":"defineBelow","value":{},"matchingColumns":["id"],"schema":[{"id":"id","displayName":"id","required":false,"defaultMatch":true,"display":true,"type":"string","readOnly":true,"removed":false},{"id":"Email","displayName":"Email","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"Name","displayName":"Name","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"phone_number","displayName":"phone_number","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"linkedin","displayName":"linkedin","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"work_experience","displayName":"work_experience","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"education","displayName":"education","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"skills","displayName":"skills","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"certificates","displayName":"certificates","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"project","displayName":"project","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"resume_score","displayName":"resume_score","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"position_title","displayName":"position_title","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false},{"id":"candidate_practical_process","displayName":"candidate_practical_process","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[1552,3136],"id":"5528189e-70dc-44d0-86a0-20700c6444ae","name":"Store candidate practical test rejection reply"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"Candidate Reject for Practical Test","emailType":"text","message":"=","options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1776,3136],"id":"03512fb1-e186-4808-93b3-1231acab5092","name":"Send candidate reject practical test to hr","webhookId":"abf7a704-5fb1-4fa7-9e29-30b0a8a46701"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[2000,3136],"id":"063904d0-7def-4e36-8099-31559fdbb2d9","name":"No Operation, do nothing10"},{"parameters":{},"type":"n8n-nodes-base.noOp","typeVersion":1,"position":[2224,2944],"id":"38e3c7a4-328c-4db6-965c-3aba6ee8e979","name":"No Operation, do nothing11"},{"parameters":{"operation":"get","messageId":"={{ $('Get candidate Practical Test Reply').item.json.id }}","simple":false,"options":{"downloadAttachments":true}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[1776,2944],"id":"39af215f-6ceb-4839-af7c-e1e6e19b79e9","name":"Get Attachment","webhookId":"9048e3b6-d9f4-4b7c-bdbd-081ea3f5d595"},{"parameters":{"rule":{"interval":[{"field":"months","triggerAtHour":11}]}},"type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[208,1568],"id":"e3ddaca7-0b37-4c4f-b7e8-828140f0d2be","name":"Schedule Trigger for practical test generation"},{"parameters":{"sendTo":"gmi.gj.dev.gajjardmk@gmail.com","subject":"=Practical Test Submission for Review ","emailType":"text","message":"=Dear Ram,\n\nI hope youre doing well.\n\nPlease find attached the practical test submission from [Candidate Name], who has applied for the [Position Title] role. The candidate has completed the task within the given timeframe.\n\nKindly review the submission and share your feedback or evaluation at your earliest convenience, so we can proceed with the next step in the selection process.\n\nThank you for your time and support.\n\nBest regards,\nHR Team","options":{"appendAttribution":false}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[2000,2944],"id":"56b2214c-8d59-49ee-b7e1-6f7aad6788e8","name":"Practical test send for evalution","webhookId":"1a689b43-4c12-4721-8873-16d272471c09"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"filters":{}},"type":"n8n-nodes-base.gmailTrigger","typeVersion":1.3,"position":[208,3040],"id":"475d3995-5e44-499d-b4fe-9522a33d6b97","name":"Get candidate Practical Test Reply"},{"parameters":{"pollTimes":{"item":[{"hour":1}]},"filters":{"q":"Resume"}},"type":"n8n-nodes-base.gmailTrigger","typeVersion":1.3,"position":[208,2624],"id":"b16ec1ed-3020-4727-9c0e-a3bdf8d17fa7","name":"Get Candidate Resume"},{"parameters":{"operation":"get","messageId":"={{ $json.id }}","simple":false,"options":{"downloadAttachments":true}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[432,2624],"id":"f1f60374-4fb6-4f2e-a766-1b7444696d61","name":"Get attachment","webhookId":"6481b6df-3ed1-4a35-af19-5a3947738035"}],"connections":{"Code in JavaScript":{"main":[[{"node":"candidate reply","type":"main","index":0}]]},"Clean Text":{"main":[[{"node":"Upload file","type":"main","index":0}]]},"Upload file":{"main":[[{"node":"Download file","type":"main","index":0}]]},"Download file":{"main":[[{"node":"Share file","type":"main","index":0}]]},"If":{"main":[[{"node":"Search records7","type":"main","index":0}],[{"node":"Search records8","type":"main","index":0}]]},"Share file":{"main":[[{"node":"get_drive_url","type":"main","index":0}]]},"Notify to HR":{"main":[[{"node":"No Operation, do nothing","type":"main","index":0}]]},"Google Gemini2":{"ai_languageModel":[[{"node":"Offer letter","type":"ai_languageModel","index":0}]]},"Ask_Candidate_Document":{"main":[[{"node":"No Operation, do nothing1","type":"main","index":0}]]},"get_drive_url":{"main":[[{"node":"update_offer_letter_drive_link","type":"main","index":0}]]},"Extracting_mail_reply":{"main":[[{"node":"If","type":"main","index":0}]]},"Extract_data":{"main":[[{"node":"send_offer_letter_to_candidate","type":"main","index":0}]]},"Get a message":{"main":[[{"node":"get_email","type":"main","index":0}]]},"get_email":{"main":[[{"node":"Upload file1","type":"main","index":0}]]},"Upload file1":{"main":[[{"node":"Download file1","type":"main","index":0}]]},"Download file1":{"main":[[{"node":"Share_candidate_document","type":"main","index":0},{"node":"Merge","type":"main","index":0}]]},"Share_candidate_document":{"main":[[{"node":"get_document_drive_link","type":"main","index":0}]]},"get_document_drive_link":{"main":[[{"node":"update_drive_link","type":"main","index":0}]]},"Store_candidate_details":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Merge":{"main":[[{"node":"OCR Request","type":"main","index":0}]]},"OCR Request":{"main":[[{"node":"validate_Document","type":"main","index":0}]]},"validate_Document":{"main":[[{"node":"If1","type":"main","index":0}]]},"If1":{"main":[[{"node":"Update document verification","type":"main","index":0}],[{"node":"Create or update a record","type":"main","index":0}]]},"Update document verification":{"main":[[{"node":"Document_verified","type":"main","index":0}]]},"Create or update a record":{"main":[[{"node":"Verification_failed_mail_to_hr","type":"main","index":0}]]},"Verification_failed_mail_to_hr":{"main":[[{"node":"No Operation, do nothing3","type":"main","index":0}]]},"it_dept":{"main":[[{"node":"Onboarding_presentation","type":"main","index":0}]]},"Document_verified":{"main":[[{"node":"Generate_training_plan","type":"main","index":0}]]},"Google Gemini Chat Model":{"ai_languageModel":[[{"node":"update offer letter","type":"ai_languageModel","index":0}]]},"Clean Text1":{"main":[[{"node":"Upload file2","type":"main","index":0}]]},"Upload file2":{"main":[[{"node":"Download file2","type":"main","index":0}]]},"Download file2":{"main":[[{"node":"Share file1","type":"main","index":0}]]},"Share file1":{"main":[[{"node":"get_updated_offer_lettter_drive_url","type":"main","index":0}]]},"get_updated_offer_lettter_drive_url":{"main":[[{"node":"offer_letter_send_to_candidate","type":"main","index":0}]]},"updated_offer_letter_confirmation_with_HR":{"main":[[{"node":"Ask_candidate_documents","type":"main","index":0}]]},"Generate_training_plan":{"main":[[{"node":"download_training_plan","type":"main","index":0}]]},"Google Gemini Chat Model1":{"ai_languageModel":[[{"node":"Generate_training_plan","type":"ai_languageModel","index":0}]]},"download_training_plan":{"main":[[{"node":"upload_training_plan_file","type":"main","index":0}]]},"upload_training_plan_file":{"main":[[{"node":"Download_training_plan","type":"main","index":0}]]},"Download_training_plan":{"main":[[{"node":"Share_training_plan","type":"main","index":0}]]},"Share_training_plan":{"main":[[{"node":"get_training_plan_url","type":"main","index":0}]]},"Wait":{"main":[[{"node":"candidate_arrived","type":"main","index":0}]]},"get_training_plan_url":{"main":[[{"node":"update_training_plan_link","type":"main","index":0}]]},"send_training_plan_welcome_candidate":{"main":[[{"node":"Team_intro_meeting","type":"main","index":0}]]},"Onboarding_presentation":{"main":[[{"node":"New_employee_form_submission","type":"main","index":0}]]},"Airtable Trigger":{"main":[[{"node":"send_training_plan_welcome_candidate","type":"main","index":0}]]},"update_training_plan_link":{"main":[[{"node":"Wait","type":"main","index":0}]]},"Team_intro_meeting":{"main":[[{"node":"it_dept","type":"main","index":0}]]},"New_employee_form_submission":{"main":[[{"node":"intro_message","type":"main","index":0}]]},"intro_message":{"main":[[{"node":"jira_orientation","type":"main","index":0}]]},"Assign_ticket_to_new_candidate":{"main":[[{"node":"Download_training_plan_for_jira","type":"main","index":0}]]},"Download_training_plan_for_jira":{"main":[[{"node":"Add an attachment to an issue","type":"main","index":0}]]},"jira_orientation":{"main":[[{"node":"Assign_ticket_to_new_candidate","type":"main","index":0}]]},"Telegram Trigger":{"main":[[{"node":"Extract_user_data","type":"main","index":0}]]},"Extract_user_data":{"main":[[{"node":"telegram_user_creation","type":"main","index":0}]]},"telegram_user_exist":{"main":[[{"node":"Send a text message","type":"main","index":0}]]},"Send a text message":{"main":[[{"node":"AI_mentor_welcome_message","type":"main","index":0}]]},"telegram_user_creation":{"main":[[{"node":"telegram_user_exist","type":"main","index":0}]]},"parse_code":{"main":[[{"node":"Switch","type":"main","index":0}]]},"Switch":{"main":[[{"node":"AI Agent Ask","type":"main","index":0}]]},"Google Gemini Chat Model2":{"ai_languageModel":[[{"node":"AI Agent Ask","type":"ai_languageModel","index":0}]]},"Filter_user_prompt":{"main":[[{"node":"parse_code","type":"main","index":0}]]},"clean_text":{"main":[[{"node":"Send a text message2","type":"main","index":0}]]},"Search records":{"main":[[{"node":"Wait1","type":"main","index":0}]]},"Loop Over Items":{"main":[[],[{"node":"Send_end_of_week_feedback","type":"main","index":0}]]},"Wait1":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Send_end_of_week_feedback":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"Telegram Trigger1":{"main":[[{"node":"Filter_user_prompt","type":"main","index":0}]]},"Schedule Trigger":{"main":[[{"node":"Search records","type":"main","index":0}]]},"On form submission":{"main":[[{"node":"feedback_data_store","type":"main","index":0}]]},"Schedule Trigger1":{"main":[[{"node":"Search records1","type":"main","index":0}]]},"Search records1":{"main":[[{"node":"Filter3","type":"main","index":0}]]},"Offer letter":{"main":[[{"node":"Clean Text","type":"main","index":0}]]},"update offer letter":{"main":[[{"node":"Clean Text1","type":"main","index":0}]]},"AI Agent Ask":{"main":[[{"node":"clean_text","type":"main","index":0}]]},"candidate reply":{"main":[[{"node":"candidate approve","type":"main","index":0}],[{"node":"candidate_reject","type":"main","index":0}]]},"candidate details form":{"main":[[{"node":"candidate_details1","type":"main","index":0}]]},"candidate submit document":{"main":[[{"node":"Get a message","type":"main","index":0}]]},"candidate reply1":{"main":[[{"node":"Code in JavaScript","type":"main","index":0}]]},"HR offer letter reply":{"main":[[{"node":"Extracting_mail_reply","type":"main","index":0}]]},"candidate_details1":{"main":[[{"node":"confirmation from candidate","type":"main","index":0}]]},"candidate approve":{"main":[[{"node":"Search records6","type":"main","index":0}]]},"Search records6":{"main":[[{"node":"Offer letter","type":"main","index":0}]]},"update_offer_letter_drive_link":{"main":[[{"node":"offer_letter_confirmation_with_HR","type":"main","index":0}]]},"candidate_reject":{"main":[[{"node":"Notify to HR","type":"main","index":0}]]},"Search records7":{"main":[[{"node":"update_hr_confirmation","type":"main","index":0}]]},"update_hr_confirmation":{"main":[[{"node":"Extract_data","type":"main","index":0}]]},"send_offer_letter_to_candidate":{"main":[[{"node":"update_offer_letter_send","type":"main","index":0}]]},"update_offer_letter_send":{"main":[[{"node":"Ask_Candidate_Document","type":"main","index":0}]]},"Search records8":{"main":[[{"node":"update_hr_rejection","type":"main","index":0}]]},"update_hr_rejection":{"main":[[{"node":"update offer letter","type":"main","index":0}]]},"offer_letter_send_to_candidate":{"main":[[{"node":"updated_offer_letter_confirmation_with_HR","type":"main","index":0}]]},"update_drive_link":{"main":[[{"node":"Search records9","type":"main","index":0}]]},"Search records9":{"main":[[{"node":"Store_candidate_details","type":"main","index":0}]]},"Google Gemini Chat Model3":{"ai_languageModel":[[{"node":"AI Agent JD Creation","type":"ai_languageModel","index":0}]]},"If2":{"main":[[{"node":"Search records5","type":"main","index":0}],[{"node":"Search records2","type":"main","index":0}]]},"Gmail Trigger":{"main":[[{"node":"Code in JavaScript1","type":"main","index":0}]]},"Code in JavaScript1":{"main":[[{"node":"If2","type":"main","index":0}]]},"Search records2":{"main":[[{"node":"Sort1","type":"main","index":0}]]},"Update record":{"main":[[{"node":"Update JD details","type":"main","index":0}]]},"Google Gemini Chat Model4":{"ai_languageModel":[[{"node":"Practical test","type":"ai_languageModel","index":0}]]},"Google Gemini Chat Model5":{"ai_languageModel":[[{"node":"Update JD details","type":"ai_languageModel","index":0}]]},"Search records3":{"main":[[{"node":"Sort","type":"main","index":0}]]},"Update record1":{"main":[[{"node":"Practical test","type":"main","index":0}]]},"Sort":{"main":[[{"node":"Filter4","type":"main","index":0}]]},"Filter4":{"main":[[{"node":"Update record1","type":"main","index":0},{"node":"get practical test drive url","type":"main","index":0}]]},"Sort1":{"main":[[{"node":"Filter5","type":"main","index":0}]]},"Filter5":{"main":[[{"node":"Update record","type":"main","index":0}]]},"Schedule trigger manpower details request":{"main":[[{"node":"Request for ManpowerMandatory Details","type":"main","index":0}]]},"Raise Manpower Request Details":{"main":[[{"node":"store manpower request details","type":"main","index":0}]]},"store manpower request details":{"main":[[{"node":"Send email to HR for JD creation","type":"main","index":0}]]},"Send email to HR for JD creation":{"main":[[{"node":"AI Agent JD Creation","type":"main","index":0}]]},"AI Agent JD Creation":{"main":[[{"node":"clean code","type":"main","index":0}]]},"Practical test":{"main":[[{"node":"clean code2","type":"main","index":0}]]},"Update JD details":{"main":[[{"node":"clean code1","type":"main","index":0}]]},"clean code":{"main":[[{"node":"send JD details to Manager CEO","type":"main","index":0}]]},"store jd details":{"main":[[{"node":"No Operation, do nothing2","type":"main","index":0}]]},"clean code2":{"main":[[{"node":"Upload practical test file","type":"main","index":0}]]},"Upload practical test file":{"main":[[{"node":"Download practical test file","type":"main","index":0}]]},"Download practical test file":{"main":[[{"node":"Share practical test file","type":"main","index":0}]]},"Share practical test file":{"main":[[{"node":"get practical test drive url","type":"main","index":0}]]},"get practical test drive url":{"main":[[{"node":"Send practical test confirmation to manager","type":"main","index":0}]]},"Send practical test confirmation to manager":{"main":[[{"node":"No Operation, do nothing6","type":"main","index":0}]]},"clean code1":{"main":[[{"node":"Store updated JD","type":"main","index":0}]]},"send updated JD for approval":{"main":[[{"node":"No Operation, do nothing4","type":"main","index":0}]]},"Search records4":{"main":[[{"node":"Sort2","type":"main","index":0}]]},"Sort2":{"main":[[{"node":"Filter6","type":"main","index":0}]]},"Filter6":{"main":[[{"node":"Create or update a record2","type":"main","index":0}]]},"Create or update a record2":{"main":[[{"node":"Update practical test generation","type":"main","index":0}]]},"Google Gemini Chat Model6":{"ai_languageModel":[[{"node":"Update practical test generation","type":"ai_languageModel","index":0}]]},"Code in JavaScript3":{"main":[[{"node":"Upload file3","type":"main","index":0}]]},"Upload file3":{"main":[[{"node":"Download file3","type":"main","index":0}]]},"Download file3":{"main":[[{"node":"Share file2","type":"main","index":0}]]},"Share file2":{"main":[[{"node":"get practical test drive url1","type":"main","index":0}]]},"get practical test drive url1":{"main":[[{"node":"store practical test updated file","type":"main","index":0}]]},"store practical test updated file":{"main":[[{"node":"Send updated practical test for approval","type":"main","index":0}]]},"Send updated practical test for approval":{"main":[[{"node":"No Operation, do nothing7","type":"main","index":0}]]},"Inform to hr for job posting":{"main":[[{"node":"job_post_generation","type":"main","index":0}]]},"Update practical test generation":{"main":[[{"node":"Code in JavaScript3","type":"main","index":0}]]},"Store updated JD":{"main":[[{"node":"send updated JD for approval","type":"main","index":0}]]},"Gmail Trigger1":{"main":[[{"node":"Code in JavaScript2","type":"main","index":0}]]},"Code in JavaScript2":{"main":[[{"node":"If3","type":"main","index":0}]]},"If3":{"main":[[{"node":"Search records10","type":"main","index":0}],[{"node":"Search records4","type":"main","index":0}]]},"store_practical_test_link":{"main":[[{"node":"Wait2","type":"main","index":0}]]},"Search records5":{"main":[[{"node":"Sort3","type":"main","index":0}]]},"Sort3":{"main":[[{"node":"Filter7","type":"main","index":0}]]},"Filter7":{"main":[[{"node":"store jd details","type":"main","index":0}]]},"Wait2":{"main":[[{"node":"Inform to hr for job posting","type":"main","index":0}]]},"Sort4":{"main":[[{"node":"Filter8","type":"main","index":0}]]},"Filter8":{"main":[[{"node":"store_practical_test_link","type":"main","index":0}]]},"Search records10":{"main":[[{"node":"Sort4","type":"main","index":0}]]},"Google Gemini Chat Model7":{"ai_languageModel":[[{"node":"job_post_generation","type":"ai_languageModel","index":0}]]},"job_post_generation":{"main":[[{"node":"Code in JavaScript4","type":"main","index":0}]]},"Code in JavaScript4":{"main":[[{"node":"Create a post","type":"main","index":0}]]},"extract_resume":{"main":[[{"node":"Code in JavaScript5","type":"main","index":0}]]},"Code in JavaScript5":{"main":[[{"node":"store_resume_data","type":"main","index":0}]]},"store_resume_data":{"main":[[{"node":"Search records11","type":"main","index":0}]]},"Google Gemini Chat Model8":{"ai_languageModel":[[{"node":"AI Resume Scoring","type":"ai_languageModel","index":0}]]},"AI Resume Scoring":{"main":[[{"node":"parse AI Result","type":"main","index":0}]]},"parse AI Result":{"main":[[{"node":"Getting Score","type":"main","index":0}]]},"Getting Score":{"main":[[{"node":"Store Resume Score","type":"main","index":0}]]},"Search records11":{"main":[[{"node":"Sort5","type":"main","index":0}]]},"Sort5":{"main":[[{"node":"Filter","type":"main","index":0}]]},"Filter":{"main":[[{"node":"AI Resume Scoring","type":"main","index":0}]]},"Store Resume Score":{"main":[[{"node":"Filter1","type":"main","index":0}]]},"Filter1":{"main":[[{"node":"If4","type":"main","index":0}]]},"If4":{"main":[[{"node":"Send Mail to HR On Resume Selecion","type":"main","index":0}],[{"node":"Send Mail to HR On Resume Rejection","type":"main","index":0}]]},"Send Mail to HR On Resume Rejection":{"main":[[{"node":"Send Mail to Candidate On Resume Rejection","type":"main","index":0}]]},"Send Mail to Candidate On Resume Rejection":{"main":[[{"node":"No Operation, do nothing5","type":"main","index":0}]]},"Send Mail to HR On Resume Selecion":{"main":[[{"node":"Send Mail to Candidate On Resume Approval","type":"main","index":0}]]},"Send Mail to Candidate On Resume Approval":{"main":[[{"node":"Wait3","type":"main","index":0}]]},"Wait3":{"main":[[{"node":"Send Practical Test To Candidate","type":"main","index":0}]]},"Send Practical Test To Candidate":{"main":[[{"node":"No Operation, do nothing8","type":"main","index":0}]]},"Code in JavaScript6":{"main":[[{"node":"If5","type":"main","index":0}]]},"If5":{"main":[[{"node":"Search records12","type":"main","index":0}],[{"node":"Search records13","type":"main","index":0}]]},"Create a post":{"main":[[{"node":"No Operation, do nothing9","type":"main","index":0}]]},"Search records12":{"main":[[{"node":"Sort6","type":"main","index":0}]]},"Sort6":{"main":[[{"node":"Filter2","type":"main","index":0}]]},"Filter2":{"main":[[{"node":"Store candidate process reply","type":"main","index":0}]]},"Search records13":{"main":[[{"node":"Sort7","type":"main","index":0}]]},"Sort7":{"main":[[{"node":"Filter9","type":"main","index":0}]]},"Filter9":{"main":[[{"node":"Store candidate practical test rejection reply","type":"main","index":0}]]},"Store candidate practical test rejection reply":{"main":[[{"node":"Send candidate reject practical test to hr","type":"main","index":0}]]},"Send candidate reject practical test to hr":{"main":[[{"node":"No Operation, do nothing10","type":"main","index":0}]]},"Store candidate process reply":{"main":[[{"node":"Get Attachment","type":"main","index":0}]]},"Get Attachment":{"main":[[{"node":"Practical test send for evalution","type":"main","index":0}]]},"Schedule Trigger for practical test generation":{"main":[[{"node":"Search records3","type":"main","index":0}]]},"Practical test send for evalution":{"main":[[{"node":"No Operation, do nothing11","type":"main","index":0}]]},"Get candidate Practical Test Reply":{"main":[[{"node":"Code in JavaScript6","type":"main","index":0}]]},"Get Candidate Resume":{"main":[[{"node":"Get attachment","type":"main","index":0}]]},"Get attachment":{"main":[[{"node":"extract_resume","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"70d7e42e-1512-476a-ac9b-fa51154321b6","triggerCount":0,"shared":[{"updatedAt":"2025-11-07T10:29:59.717Z","createdAt":"2025-11-07T10:29:59.717Z","role":"workflow:owner","workflowId":"W6qbXHAFRWrURpsC","projectId":"D9UETpAh94LkbOrf"}],"tags":[]}